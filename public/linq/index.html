<!DOCTYPE html>
<html id="R-html" lang="fr-ca" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/420-413/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=420-413/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.2">
    <meta name="generator" content="Relearn 9.0.3+8bb66fa674351f3a0b0917a7552caac686eca920">
    <meta name="description" content="üìò LINQ en C# Language Integrated Query üìã Table des mati√®res Introduction √† LINQ Pourquoi utiliser LINQ ? Les Bases de LINQ Les Deux Syntaxes LINQ Op√©rations de Filtrage Op√©rations de Projection Op√©rations de Tri Op√©rations d‚ÄôAgr√©gation Op√©rations de Regroupement Op√©rations de Jointure Op√©rations d‚ÄôEnsemble Op√©rations de Quantification Op√©rations de Partition LINQ avec Objets Complexes Cas Pratiques R√©els Bonnes Pratiques et Pi√®ges 1. Introduction √† LINQ 1.1 Qu‚Äôest-ce que LINQ ? LINQ (Language Integrated Query) est une fonctionnalit√© de C# qui permet d‚Äôinterroger des collections de donn√©es directement dans le code, avec une syntaxe √©l√©gante et lisible.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="LINQ :: D√©veloppement d&#39;applications pour entreprises">
    <meta name="twitter:description" content="üìò LINQ en C# Language Integrated Query üìã Table des mati√®res Introduction √† LINQ Pourquoi utiliser LINQ ? Les Bases de LINQ Les Deux Syntaxes LINQ Op√©rations de Filtrage Op√©rations de Projection Op√©rations de Tri Op√©rations d‚ÄôAgr√©gation Op√©rations de Regroupement Op√©rations de Jointure Op√©rations d‚ÄôEnsemble Op√©rations de Quantification Op√©rations de Partition LINQ avec Objets Complexes Cas Pratiques R√©els Bonnes Pratiques et Pi√®ges 1. Introduction √† LINQ 1.1 Qu‚Äôest-ce que LINQ ? LINQ (Language Integrated Query) est une fonctionnalit√© de C# qui permet d‚Äôinterroger des collections de donn√©es directement dans le code, avec une syntaxe √©l√©gante et lisible.">
    <meta property="og:url" content="http://localhost:1313/420-413/linq/index.html">
    <meta property="og:site_name" content="D√©veloppement d&#39;applications pour entreprises">
    <meta property="og:title" content="LINQ :: D√©veloppement d&#39;applications pour entreprises">
    <meta property="og:description" content="üìò LINQ en C# Language Integrated Query üìã Table des mati√®res Introduction √† LINQ Pourquoi utiliser LINQ ? Les Bases de LINQ Les Deux Syntaxes LINQ Op√©rations de Filtrage Op√©rations de Projection Op√©rations de Tri Op√©rations d‚ÄôAgr√©gation Op√©rations de Regroupement Op√©rations de Jointure Op√©rations d‚ÄôEnsemble Op√©rations de Quantification Op√©rations de Partition LINQ avec Objets Complexes Cas Pratiques R√©els Bonnes Pratiques et Pi√®ges 1. Introduction √† LINQ 1.1 Qu‚Äôest-ce que LINQ ? LINQ (Language Integrated Query) est une fonctionnalit√© de C# qui permet d‚Äôinterroger des collections de donn√©es directement dans le code, avec une syntaxe √©l√©gante et lisible.">
    <meta property="og:locale" content="fr_ca">
    <meta property="og:type" content="article">
    <meta property="article:section" content="D√©veloppement d&#39;applications pour entreprise">
    <meta itemprop="name" content="LINQ :: D√©veloppement d&#39;applications pour entreprises">
    <meta itemprop="description" content="üìò LINQ en C# Language Integrated Query üìã Table des mati√®res Introduction √† LINQ Pourquoi utiliser LINQ ? Les Bases de LINQ Les Deux Syntaxes LINQ Op√©rations de Filtrage Op√©rations de Projection Op√©rations de Tri Op√©rations d‚ÄôAgr√©gation Op√©rations de Regroupement Op√©rations de Jointure Op√©rations d‚ÄôEnsemble Op√©rations de Quantification Op√©rations de Partition LINQ avec Objets Complexes Cas Pratiques R√©els Bonnes Pratiques et Pi√®ges 1. Introduction √† LINQ 1.1 Qu‚Äôest-ce que LINQ ? LINQ (Language Integrated Query) est une fonctionnalit√© de C# qui permet d‚Äôinterroger des collections de donn√©es directement dans le code, avec une syntaxe √©l√©gante et lisible.">
    <meta itemprop="wordCount" content="8623">
    <title>LINQ :: D√©veloppement d&#39;applications pour entreprises</title>
    <link href="/420-413/images/favicon.png?1771266203" rel="icon" type="image/png">
    <link href="/420-413/css/auto-complete/auto-complete.min.css?1771266203" rel="stylesheet">
    <script src="/420-413/js/auto-complete/auto-complete.min.js?1771266203" defer></script>
    <script src="/420-413/js/search-lunr.js?1771266203" defer></script>
    <script src="/420-413/js/search.js?1771266203" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/420-413/searchindex.en.js?1771266203";
    </script>
    <script src="/420-413/js/lunr/lunr.min.js?1771266203" defer></script>
    <script src="/420-413/js/lunr/lunr.stemmer.support.min.js?1771266203" defer></script>
    <script src="/420-413/js/lunr/lunr.multi.min.js?1771266203" defer></script>
    <script src="/420-413/js/lunr/lunr.fr.min.js?1771266203" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['fr'];
    </script>
    <link href="/420-413/fonts/fontawesome/css/all.min.css?1771266203" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/420-413/fonts/fontawesome/css/all.min.css?1771266203" rel="stylesheet"></noscript>
    <link href="/420-413/css/perfect-scrollbar/perfect-scrollbar.min.css?1771266203" rel="stylesheet">
    <link href="/420-413/css/theme.css?1771266203" rel="stylesheet">
    <link href="/420-413/css/format-html.css?1771266203" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/linq\/index.html';
      window.relearn.relBasePath='..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313\/420-413';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn', 'relearn-auto', 'zen-light', 'zen-dark', 'neon' ];
      window.relearn.customvariantprefix = "my-custom-";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( !variant ||
            (!variant.startsWith(window.relearn.customvariantprefix) && !window.relearn.themevariants.includes(variant)) ||
            (variant.startsWith(window.relearn.customvariantprefix) && !window.localStorage.getItem(window.relearn.absBaseUri + "/variantstylesheet-" + variant)) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script><style>
:root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 16rem;
}
</style>
  </head>
  <body class="mobile-support html" data-origin="/420-413/linq/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar" class="default-animation">
        <div class="topbar-wrapper default-animation">
          <div class="topbar-sidebar-divider default-animation"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar default-animation" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-table-list"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#language-integrated-query">Language Integrated Query</a></li>
    <li><a href="#-table-des-mati√®res">üìã Table des mati√®res</a></li>
    <li><a href="#1-introduction-√†-linq">1. Introduction √† LINQ</a>
      <ul>
        <li><a href="#11-quest-ce-que-linq-">1.1 Qu&rsquo;est-ce que LINQ ?</a></li>
        <li><a href="#12-les-sources-de-donn√©es-linq">1.2 Les sources de donn√©es LINQ</a></li>
        <li><a href="#13-mise-en-contexte--probl√®me-sans-linq">1.3 Mise en contexte : Probl√®me sans LINQ</a></li>
      </ul>
    </li>
    <li><a href="#2-pourquoi-utiliser-linq-">2. Pourquoi utiliser LINQ ?</a>
      <ul>
        <li><a href="#21-avantages-de-linq">2.1 Avantages de LINQ</a></li>
        <li><a href="#22-comparaison-avantapr√®s-linq">2.2 Comparaison avant/apr√®s LINQ</a></li>
      </ul>
    </li>
    <li><a href="#3-les-bases-de-linq">3. Les bases de LINQ</a>
      <ul>
        <li><a href="#31-importer-le-namespace">3.1 Importer le namespace</a></li>
        <li><a href="#32-les-collections-et-ienumerable">3.2 Les collections et IEnumerable</a></li>
        <li><a href="#33-lex√©cution-diff√©r√©e-deferred-execution">3.3 L&rsquo;ex√©cution diff√©r√©e (deferred execution)</a></li>
      </ul>
    </li>
    <li><a href="#4-les-deux-syntaxes-linq">4. Les deux syntaxes LINQ</a>
      <ul>
        <li><a href="#41-syntaxe-de-m√©thode-method-syntax">4.1 Syntaxe de m√©thode (method syntax)</a></li>
        <li><a href="#42-syntaxe-de-requ√™te-query-syntax">4.2 Syntaxe de requ√™te (query syntax)</a></li>
        <li><a href="#43-comparaison-des-deux-syntaxes">4.3 Comparaison des deux syntaxes</a></li>
      </ul>
    </li>
    <li><a href="#5-op√©rations-de-filtrage">5. Op√©rations de filtrage</a>
      <ul>
        <li><a href="#51-where---filtrer-selon-une-condition">5.1 Where - Filtrer selon une condition</a></li>
        <li><a href="#52-oftype---filtrer-par-type">5.2 OfType - Filtrer par type</a></li>
      </ul>
    </li>
    <li><a href="#6-op√©rations-de-projection">6. Op√©rations de projection</a>
      <ul>
        <li><a href="#61-select---transformer-chaque-√©l√©ment">6.1 Select - Transformer chaque √©l√©ment</a></li>
        <li><a href="#62-selectmany---aplatir-des-collections-imbriqu√©es">6.2 SelectMany - Aplatir des collections imbriqu√©es</a></li>
      </ul>
    </li>
    <li><a href="#7-op√©rations-de-tri">7. Op√©rations de tri</a>
      <ul>
        <li><a href="#71-orderby-et-orderbydescending">7.1 OrderBy et OrderByDescending</a></li>
        <li><a href="#72-thenby-et-thenbydescending---tris-secondaires">7.2 ThenBy et ThenByDescending - Tris secondaires</a></li>
        <li><a href="#73-reverse---inverser-lordre">7.3 Reverse - Inverser l&rsquo;ordre</a></li>
      </ul>
    </li>
    <li><a href="#8-op√©rations-dagr√©gation">8. Op√©rations d&rsquo;Agr√©gation</a>
      <ul>
        <li><a href="#81-count---compter-les-√©l√©ments">8.1 Count - Compter les √©l√©ments</a></li>
        <li><a href="#82-sum---calculer-la-somme">8.2 Sum - Calculer la somme</a></li>
        <li><a href="#83-average---calculer-la-moyenne">8.3 Average - Calculer la moyenne</a></li>
        <li><a href="#84-min-et-max---trouver-minimum-et-maximum">8.4 Min et Max - Trouver minimum et maximum</a></li>
        <li><a href="#85-aggregate---agr√©gation-personnalis√©e">8.5 Aggregate - Agr√©gation personnalis√©e</a></li>
      </ul>
    </li>
    <li><a href="#9-op√©rations-de-regroupement">9. Op√©rations de Regroupement</a>
      <ul>
        <li><a href="#91-groupby---regrouper-par-cl√©">9.1 GroupBy - Regrouper par cl√©</a></li>
      </ul>
    </li>
    <li><a href="#10-op√©rations-de-jointure">10. Op√©rations de Jointure</a>
      <ul>
        <li><a href="#101-join---jointure-interne">10.1 Join - Jointure interne</a></li>
        <li><a href="#102-groupjoin---jointure-de-groupe">10.2 GroupJoin - Jointure de groupe</a></li>
      </ul>
    </li>
    <li><a href="#11-op√©rations-densemble">11. Op√©rations d&rsquo;Ensemble</a>
      <ul>
        <li><a href="#111-distinct---√©liminer-les-doublons">11.1 Distinct - √âliminer les doublons</a></li>
        <li><a href="#112-union---union-de-deux-collections">11.2 Union - Union de deux collections</a></li>
        <li><a href="#113-intersect---intersection">11.3 Intersect - Intersection</a></li>
        <li><a href="#114-except---diff√©rence">11.4 Except - Diff√©rence</a></li>
        <li><a href="#115-exemple-pratique--gestion-dabonnements">11.5 Exemple Pratique : Gestion d&rsquo;abonnements</a></li>
      </ul>
    </li>
    <li><a href="#12-op√©rations-de-quantification">12. Op√©rations de Quantification</a>
      <ul>
        <li><a href="#121-any---au-moins-un-√©l√©ment-satisfait-la-condition">12.1 Any - Au moins un √©l√©ment satisfait la condition</a></li>
        <li><a href="#122-all---tous-les-√©l√©ments-satisfont-la-condition">12.2 All - Tous les √©l√©ments satisfont la condition</a></li>
        <li><a href="#123-contains---v√©rifie-si-un-√©l√©ment-existe">12.3 Contains - V√©rifie si un √©l√©ment existe</a></li>
      </ul>
    </li>
    <li><a href="#13-op√©rations-de-partition">13. Op√©rations de Partition</a>
      <ul>
        <li><a href="#131-take---prendre-les-n-premiers-√©l√©ments">13.1 Take - Prendre les N premiers √©l√©ments</a></li>
        <li><a href="#132-skip---ignorer-les-n-premiers-√©l√©ments">13.2 Skip - Ignorer les N premiers √©l√©ments</a></li>
        <li><a href="#133-pagination-avec-take-et-skip">13.3 Pagination avec Take et Skip</a></li>
        <li><a href="#134-takewhile-et-skipwhile---selon-une-condition">13.4 TakeWhile et SkipWhile - Selon une condition</a></li>
      </ul>
    </li>
    <li><a href="#14-linq-avec-objets-complexes">14. LINQ avec Objets Complexes</a>
      <ul>
        <li><a href="#141-exemple-complet--syst√®me-universitaire">14.1 Exemple Complet : Syst√®me Universitaire</a></li>
      </ul>
    </li>
    <li><a href="#15-cas-pratiques-r√©els">15. Cas Pratiques R√©els</a>
      <ul>
        <li><a href="#151-analyse-de-logs-dapplication">15.1 Analyse de Logs d&rsquo;Application</a></li>
        <li><a href="#152-analyse-de-donn√©es-de-ventes">15.2 Analyse de Donn√©es de Ventes</a></li>
      </ul>
    </li>
    <li><a href="#16-bonnes-pratiques-et-pi√®ges">16. Bonnes Pratiques et Pi√®ges</a>
      <ul>
        <li><a href="#161-√©viter-lex√©cution-multiple">16.1 √âviter l&rsquo;Ex√©cution Multiple</a></li>
        <li><a href="#162-attention-aux-null-references">16.2 Attention aux Null References</a></li>
        <li><a href="#163-performance--where-avant-select">16.3 Performance : Where avant Select</a></li>
        <li><a href="#164-utiliser-any-plut√¥t-que-count">16.4 Utiliser Any() plut√¥t que Count()</a></li>
        <li><a href="#165-√©viter-les-requ√™tes-complexes-dans-les-boucles">16.5 √âviter les Requ√™tes Complexes dans les Boucles</a></li>
        <li><a href="#166-pr√©f√©rer-firstordefault-√†-first">16.6 Pr√©f√©rer FirstOrDefault() √† First()</a></li>
        <li><a href="#167-ordre-des-op√©rations">16.7 Ordre des Op√©rations</a></li>
      </ul>
    </li>
    <li><a href="#-r√©sum√©-des-op√©rations-linq">üìö R√©sum√© des Op√©rations LINQ</a></li>
    <li><a href="#-checklist-de-ma√Ætrise-linq">üéØ Checklist de Ma√Ætrise LINQ</a></li>
    <li><a href="#-ressources-suppl√©mentaires">üîó Ressources Suppl√©mentaires</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/420-413/index.html"><span itemprop="name">D√©veloppement d&#39;applications pour entreprise</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">LINQ</span><meta itemprop="position" content="2"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/420-413/agile-_scrum/index.html" title="Agile - Scrum (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/420-413/pratique_exam1/index.html" title="Pratique - Exam 1 (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable page" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="linq">LINQ</h1>

<h1 id="-linq-en-c">üìò LINQ en C#<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h1>
<h2 id="language-integrated-query">Language Integrated Query<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<hr>
<h2 id="-table-des-mati√®res">üìã Table des mati√®res<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<ol>
<li><a href="/420-413/linq/index.html#1-introduction-√†-linq">Introduction √† LINQ</a></li>
<li><a href="/420-413/linq/index.html#2-pourquoi-utiliser-linq">Pourquoi utiliser LINQ ?</a></li>
<li><a href="/420-413/linq/index.html#3-les-bases-de-linq">Les Bases de LINQ</a></li>
<li><a href="/420-413/linq/index.html#4-les-deux-syntaxes-linq">Les Deux Syntaxes LINQ</a></li>
<li><a href="/420-413/linq/index.html#5-op√©rations-de-filtrage">Op√©rations de Filtrage</a></li>
<li><a href="/420-413/linq/index.html#6-op√©rations-de-projection">Op√©rations de Projection</a></li>
<li><a href="/420-413/linq/index.html#7-op√©rations-de-tri">Op√©rations de Tri</a></li>
<li><a href="/420-413/linq/index.html#8-op√©rations-dagr√©gation">Op√©rations d&rsquo;Agr√©gation</a></li>
<li><a href="/420-413/linq/index.html#9-op√©rations-de-regroupement">Op√©rations de Regroupement</a></li>
<li><a href="/420-413/linq/index.html#10-op√©rations-de-jointure">Op√©rations de Jointure</a></li>
<li><a href="/420-413/linq/index.html#11-op√©rations-densemble">Op√©rations d&rsquo;Ensemble</a></li>
<li><a href="/420-413/linq/index.html#12-op√©rations-de-quantification">Op√©rations de Quantification</a></li>
<li><a href="/420-413/linq/index.html#13-op√©rations-de-partition">Op√©rations de Partition</a></li>
<li><a href="/420-413/linq/index.html#14-linq-avec-objets-complexes">LINQ avec Objets Complexes</a></li>
<li><a href="/420-413/linq/index.html#15-cas-pratiques-r√©els">Cas Pratiques R√©els</a></li>
<li><a href="/420-413/linq/index.html#16-bonnes-pratiques-et-pi√®ges">Bonnes Pratiques et Pi√®ges</a></li>
</ol>
<hr>
<h2 id="1-introduction-√†-linq">1. Introduction √† LINQ<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="11-quest-ce-que-linq-">1.1 Qu&rsquo;est-ce que LINQ ?<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>LINQ</strong> (Language Integrated Query) est une fonctionnalit√© de C# qui permet d&rsquo;<strong>interroger des collections de donn√©es</strong> directement dans le code, avec une syntaxe √©l√©gante et lisible.</p>
<p><strong>Analogie :</strong>
Imaginez que vous avez une biblioth√®que remplie de livres. Plut√¥t que de parcourir manuellement chaque √©tag√®re pour trouver &ldquo;tous les romans de science-fiction publi√©s apr√®s 2020&rdquo;, LINQ vous permet de poser cette question directement et d&rsquo;obtenir la r√©ponse instantan√©ment.</p>
<h3 id="12-les-sources-de-donn√©es-linq">1.2 Les sources de donn√©es LINQ<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>LINQ peut interroger diff√©rents types de donn√©es :</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// LINQ to Objects - Collections en m√©moire</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">nombres</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">pairs</span> <span class="p">=</span> <span class="k">from</span> <span class="n">n</span> <span class="k">in</span> <span class="n">nombres</span> <span class="k">where</span> <span class="n">n</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span> <span class="k">select</span> <span class="n">n</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// LINQ to XML - Documents XML</span>
</span></span><span class="line"><span class="cl"><span class="n">XDocument</span> <span class="n">doc</span> <span class="p">=</span> <span class="n">XDocument</span><span class="p">.</span><span class="n">Load</span><span class="p">(</span><span class="s">&#34;data.xml&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">elements</span> <span class="p">=</span> <span class="k">from</span> <span class="n">e</span> <span class="k">in</span> <span class="n">doc</span><span class="p">.</span><span class="n">Descendants</span><span class="p">(</span><span class="s">&#34;item&#34;</span><span class="p">)</span> <span class="k">select</span> <span class="n">e</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// LINQ to SQL / Entity Framework - Bases de donn√©es</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">clients</span> <span class="p">=</span> <span class="k">from</span> <span class="n">c</span> <span class="k">in</span> <span class="n">dbContext</span><span class="p">.</span><span class="n">Clients</span> <span class="k">where</span> <span class="n">c</span><span class="p">.</span><span class="n">Ville</span> <span class="p">==</span> <span class="s">&#34;Montr√©al&#34;</span> <span class="k">select</span> <span class="n">c</span><span class="p">;</span></span></span></code></pre></div>
<p><strong>Dans ce cours</strong>, nous nous concentrerons sur <strong>LINQ to Objects</strong> (collections en m√©moire).</p>
<h3 id="13-mise-en-contexte--probl√®me-sans-linq">1.3 Mise en contexte : Probl√®me sans LINQ<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// SC√âNARIO : Trouver tous les √©tudiants avec une moyenne &gt;= 75</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Etudiant</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">double</span> <span class="n">Moyenne</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Programme</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Donn√©es</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span> <span class="n">etudiants</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Alice&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">20</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">85.5</span><span class="p">,</span> <span class="n">Programme</span> <span class="p">=</span> <span class="s">&#34;Informatique&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Bob&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">22</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">72.0</span><span class="p">,</span> <span class="n">Programme</span> <span class="p">=</span> <span class="s">&#34;G√©nie&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Charlie&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">21</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">90.0</span><span class="p">,</span> <span class="n">Programme</span> <span class="p">=</span> <span class="s">&#34;Informatique&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Diana&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">19</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">68.5</span><span class="p">,</span> <span class="n">Programme</span> <span class="p">=</span> <span class="s">&#34;Math&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Eve&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">23</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">78.0</span><span class="p">,</span> <span class="n">Programme</span> <span class="p">=</span> <span class="s">&#34;Informatique&#34;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// SANS LINQ - Approche traditionnelle (boucles)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span> <span class="n">etudiantsAvecBonneMoyenne</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">etudiant</span> <span class="k">in</span> <span class="n">etudiants</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">etudiant</span><span class="p">.</span><span class="n">Moyenne</span> <span class="p">&gt;=</span> <span class="m">75</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">etudiantsAvecBonneMoyenne</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">etudiant</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;√âtudiants avec moyenne &gt;= 75:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">etudiant</span> <span class="k">in</span> <span class="n">etudiantsAvecBonneMoyenne</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{etudiant.Nom}: {etudiant.Moyenne}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Alice: 85.5</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Charlie: 90</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Eve: 78</span></span></span></code></pre></div>
<p><strong>Probl√®mes avec cette approche :</strong></p>
<ul>
<li>Code verbeux (beaucoup de lignes pour une t√¢che simple)</li>
<li>Lisibilit√© r√©duite</li>
<li>Variables temporaires n√©cessaires</li>
<li>Difficile √† combiner plusieurs op√©rations</li>
</ul>
<hr>
<h2 id="2-pourquoi-utiliser-linq-">2. Pourquoi utiliser LINQ ?<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="21-avantages-de-linq">2.1 Avantages de LINQ<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// AVEC LINQ - √âl√©gant et concis</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">etudiantsAvecBonneMoyenne</span> <span class="p">=</span> <span class="n">etudiants</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span> <span class="p">&gt;=</span> <span class="m">75</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">etudiant</span> <span class="k">in</span> <span class="n">etudiantsAvecBonneMoyenne</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{etudiant.Nom}: {etudiant.Moyenne}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// M√™me r√©sultat, mais en UNE SEULE LIGNE ! üéØ</span></span></span></code></pre></div>
<p><strong>Avantages :</strong></p>
<ol>
<li><strong>Concision</strong> : Moins de code pour le m√™me r√©sultat</li>
<li><strong>Lisibilit√©</strong> : Le code se lit comme une phrase en anglais</li>
<li><strong>Composabilit√©</strong> : Facile d&rsquo;encha√Æner plusieurs op√©rations</li>
<li><strong>Type-safe</strong> : Erreurs d√©tect√©es √† la compilation</li>
<li><strong>IntelliSense</strong> : Auto-compl√©tion dans Visual Studio</li>
<li><strong>R√©utilisabilit√©</strong> : Requ√™tes r√©utilisables</li>
</ol>
<h3 id="22-comparaison-avantapr√®s-linq">2.2 Comparaison avant/apr√®s LINQ<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// SC√âNARIO : Trouver les noms des √©tudiants en informatique, </span>
</span></span><span class="line"><span class="cl"><span class="c1">// tri√©s par moyenne d√©croissante, avec moyenne &gt;= 80</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// SANS LINQ - 15+ lignes</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span> <span class="n">etudiantsInfo</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">e</span> <span class="k">in</span> <span class="n">etudiants</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Programme</span> <span class="p">==</span> <span class="s">&#34;Informatique&#34;</span> <span class="p">&amp;&amp;</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span> <span class="p">&gt;=</span> <span class="m">80</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">etudiantsInfo</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Tri manuel</span>
</span></span><span class="line"><span class="cl"><span class="n">etudiantsInfo</span><span class="p">.</span><span class="n">Sort</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">b</span><span class="p">.</span><span class="n">Moyenne</span><span class="p">.</span><span class="n">CompareTo</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">Moyenne</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">noms</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">e</span> <span class="k">in</span> <span class="n">etudiantsInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">noms</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">Nom</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// AVEC LINQ - 3 lignes (ou m√™me 1 ligne!)</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">nomsInfo</span> <span class="p">=</span> <span class="n">etudiants</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Programme</span> <span class="p">==</span> <span class="s">&#34;Informatique&#34;</span> <span class="p">&amp;&amp;</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span> <span class="p">&gt;=</span> <span class="m">80</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Nom</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Affichage</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">nom</span> <span class="k">in</span> <span class="n">nomsInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">nom</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Charlie</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Alice</span></span></span></code></pre></div>
<hr>
<h2 id="3-les-bases-de-linq">3. Les bases de LINQ<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="31-importer-le-namespace">3.1 Importer le namespace<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Linq</span><span class="p">;</span> <span class="c1">// ‚ö†Ô∏è OBLIGATOIRE pour utiliser LINQ</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">System.Collections.Generic</span><span class="p">;</span></span></span></code></pre></div>
<h3 id="32-les-collections-et-ienumerable">3.2 Les collections et IEnumerable<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>LINQ fonctionne avec tout ce qui impl√©mente <code>IEnumerable&lt;T&gt;</code> :</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Listes</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">nombres</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Tableaux</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="p">[]</span> <span class="n">tableauNombres</span> <span class="p">=</span> <span class="p">{</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Dictionnaires</span>
</span></span><span class="line"><span class="cl"><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">int</span><span class="p">&gt;</span> <span class="n">ages</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">int</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="s">&#34;Alice&#34;</span><span class="p">,</span> <span class="m">25</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span> <span class="s">&#34;Bob&#34;</span><span class="p">,</span> <span class="m">30</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Tous peuvent √™tre interrog√©s avec LINQ !</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultats1</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">&gt;</span> <span class="m">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultats2</span> <span class="p">=</span> <span class="n">tableauNombres</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">&gt;</span> <span class="m">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultats3</span> <span class="p">=</span> <span class="n">ages</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">kvp</span> <span class="p">=&gt;</span> <span class="n">kvp</span><span class="p">.</span><span class="n">Value</span> <span class="p">&gt;</span> <span class="m">25</span><span class="p">);</span></span></span></code></pre></div>
<h3 id="33-lex√©cution-diff√©r√©e-deferred-execution">3.3 L&rsquo;ex√©cution diff√©r√©e (deferred execution)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Concept important</strong> : LINQ utilise l&rsquo;<strong>ex√©cution diff√©r√©e</strong> - la requ√™te n&rsquo;est ex√©cut√©e que lorsqu&rsquo;on <strong>√©num√®re</strong> les r√©sultats.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">nombres</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ö†Ô∏è La requ√™te est D√âFINIE mais PAS EX√âCUT√âE</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">nombresPairs</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Requ√™te d√©finie&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Ajout d&#39;un nouvel √©l√©ment APR√àS la d√©finition de la requ√™te</span>
</span></span><span class="line"><span class="cl"><span class="n">nombres</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="m">6</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ La requ√™te est EX√âCUT√âE maintenant (lors du foreach)</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">n</span> <span class="k">in</span> <span class="n">nombresPairs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">n</span><span class="p">);</span> <span class="c1">// Affiche: 2, 4, 6 (6 est inclus!)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<p><strong>Forcer l&rsquo;ex√©cution imm√©diate :</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Ex√©cution diff√©r√©e (par d√©faut)</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">requete</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">);</span> <span class="c1">// IEnumerable&lt;int&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Ex√©cution imm√©diate avec ToList()</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">liste</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">).</span><span class="n">ToList</span><span class="p">();</span> <span class="c1">// List&lt;int&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Ex√©cution imm√©diate avec ToArray()</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">tableau</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">).</span><span class="n">ToArray</span><span class="p">();</span> <span class="c1">// int[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Ex√©cution imm√©diate avec Count()</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">compte</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">).</span><span class="n">Count</span><span class="p">();</span> <span class="c1">// int</span></span></span></code></pre></div>
<hr>
<h2 id="4-les-deux-syntaxes-linq">4. Les deux syntaxes LINQ<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>LINQ offre <strong>deux syntaxes</strong> pour √©crire les requ√™tes :</p>
<h3 id="41-syntaxe-de-m√©thode-method-syntax">4.1 Syntaxe de m√©thode (method syntax)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Utilise des m√©thodes d&rsquo;extension avec des expressions lambda.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultat</span> <span class="p">=</span> <span class="n">etudiants</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span> <span class="p">&gt;=</span> <span class="m">75</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Nom</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Nom</span><span class="p">);</span></span></span></code></pre></div>
<p><strong>Avantages :</strong></p>
<ul>
<li>Plus concise</li>
<li>Plus flexible (acc√®s √† toutes les m√©thodes LINQ)</li>
<li>Pr√©f√©r√©e par la plupart des d√©veloppeurs</li>
<li><strong>Recommand√©e</strong> pour ce cours</li>
</ul>
<h3 id="42-syntaxe-de-requ√™te-query-syntax">4.2 Syntaxe de requ√™te (query syntax)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Ressemble au SQL, utilise des mots-cl√©s comme <code>from</code>, <code>where</code>, <code>select</code>.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultat</span> <span class="p">=</span> <span class="k">from</span> <span class="n">e</span> <span class="k">in</span> <span class="n">etudiants</span>
</span></span><span class="line"><span class="cl">               <span class="k">where</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span> <span class="p">&gt;=</span> <span class="m">75</span>
</span></span><span class="line"><span class="cl">               <span class="k">orderby</span> <span class="n">e</span><span class="p">.</span><span class="n">Nom</span>
</span></span><span class="line"><span class="cl">               <span class="k">select</span> <span class="n">e</span><span class="p">.</span><span class="n">Nom</span><span class="p">;</span></span></span></code></pre></div>
<p><strong>Avantages :</strong></p>
<ul>
<li>Famili√®re pour ceux qui connaissent SQL</li>
<li>Parfois plus lisible pour des requ√™tes complexes</li>
</ul>
<h3 id="43-comparaison-des-deux-syntaxes">4.3 Comparaison des deux syntaxes<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// SC√âNARIO : √âtudiants en informatique avec moyenne &gt;= 80</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// SYNTAXE DE M√âTHODE (recommand√©e)</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultat1</span> <span class="p">=</span> <span class="n">etudiants</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Programme</span> <span class="p">==</span> <span class="s">&#34;Informatique&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span> <span class="p">&gt;=</span> <span class="m">80</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Nom</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// SYNTAXE DE REQU√äTE</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultat2</span> <span class="p">=</span> <span class="k">from</span> <span class="n">e</span> <span class="k">in</span> <span class="n">etudiants</span>
</span></span><span class="line"><span class="cl">                <span class="k">where</span> <span class="n">e</span><span class="p">.</span><span class="n">Programme</span> <span class="p">==</span> <span class="s">&#34;Informatique&#34;</span>
</span></span><span class="line"><span class="cl">                <span class="k">where</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span> <span class="p">&gt;=</span> <span class="m">80</span>
</span></span><span class="line"><span class="cl">                <span class="k">select</span> <span class="n">e</span><span class="p">.</span><span class="n">Nom</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Les DEUX produisent le m√™me r√©sultat !</span></span></span></code></pre></div>
<p><strong>üí° Dans ce cours</strong>, nous utiliserons principalement la <strong>syntaxe de m√©thode</strong> car elle est :</p>
<ul>
<li>Plus courante dans l&rsquo;industrie</li>
<li>Plus flexible</li>
<li>Mieux support√©e par IntelliSense</li>
</ul>
<hr>
<h2 id="5-op√©rations-de-filtrage">5. Op√©rations de filtrage<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="51-where---filtrer-selon-une-condition">5.1 Where - Filtrer selon une condition<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><code>Where()</code> retourne tous les √©l√©ments qui satisfont une condition.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Gestion d&#39;un magasin</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Produit</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">decimal</span> <span class="n">Prix</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Categorie</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Stock</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">EstEnPromotion</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Produit</span><span class="p">&gt;</span> <span class="n">produits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Produit</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Laptop&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">1200</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">5</span><span class="p">,</span> <span class="n">EstEnPromotion</span> <span class="p">=</span> <span class="kc">true</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Souris&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">25</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">50</span><span class="p">,</span> <span class="n">EstEnPromotion</span> <span class="p">=</span> <span class="kc">false</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Clavier&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">80</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">30</span><span class="p">,</span> <span class="n">EstEnPromotion</span> <span class="p">=</span> <span class="kc">true</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Chaise&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">150</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;Mobilier&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">10</span><span class="p">,</span> <span class="n">EstEnPromotion</span> <span class="p">=</span> <span class="kc">false</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">5</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Bureau&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">400</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;Mobilier&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">EstEnPromotion</span> <span class="p">=</span> <span class="kc">true</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">6</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Lampe&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">45</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;Mobilier&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">20</span><span class="p">,</span> <span class="n">EstEnPromotion</span> <span class="p">=</span> <span class="kc">false</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Produits en promotion</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">produitsEnPromotion</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">EstEnPromotion</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Produits en promotion:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">p</span> <span class="k">in</span> <span class="n">produitsEnPromotion</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;- {p.Nom} ({p.Prix:C})&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Laptop (1 200,00 $)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Clavier (80,00 $)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Bureau (400,00 $)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Produits chers (&gt; 100$)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">produitsChe</span> <span class="n">rs</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 3 : √âlectronique PAS en promotion</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">electroniqueNormale</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="n">p</span><span class="p">.</span><span class="n">Categorie</span> <span class="p">==</span> <span class="s">&#34;√âlectronique&#34;</span> <span class="p">&amp;&amp;</span> <span class="p">!</span><span class="n">p</span><span class="p">.</span><span class="n">EstEnPromotion</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 4 : Stock faible (&lt; 10 unit√©s)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">stockFaible</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Stock</span> <span class="p">&lt;</span> <span class="m">10</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\n‚ö†Ô∏è ALERTE Stock faible:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">p</span> <span class="k">in</span> <span class="n">stockFaible</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;- {p.Nom}: seulement {p.Stock} unit√©s&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Laptop: seulement 5 unit√©s</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Bureau: seulement 3 unit√©s</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 5 : Conditions multiples</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">produitsSpeciaux</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;=</span> <span class="m">50</span> <span class="p">&amp;&amp;</span> 
</span></span><span class="line"><span class="cl">    <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&lt;=</span> <span class="m">200</span> <span class="p">&amp;&amp;</span> 
</span></span><span class="line"><span class="cl">    <span class="n">p</span><span class="p">.</span><span class="n">Stock</span> <span class="p">&gt;</span> <span class="m">5</span> <span class="p">&amp;&amp;</span>
</span></span><span class="line"><span class="cl">    <span class="n">p</span><span class="p">.</span><span class="n">Categorie</span> <span class="p">==</span> <span class="s">&#34;√âlectronique&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span></span></span></code></pre></div>
<p><strong>üí° Astuce :</strong> Vous pouvez cha√Æner plusieurs <code>Where()</code> :</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Ces deux requ√™tes sont √©quivalentes:</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Version 1 : Une seule condition complexe</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultat1</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">50</span> <span class="p">&amp;&amp;</span> <span class="n">p</span><span class="p">.</span><span class="n">Stock</span> <span class="p">&gt;</span> <span class="m">10</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Version 2 : Deux Where() s√©par√©s, mais moins efficace que la premi√®re version</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultat2</span> <span class="p">=</span> <span class="n">produits</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">50</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Stock</span> <span class="p">&gt;</span> <span class="m">10</span><span class="p">);</span></span></span></code></pre></div>
<h3 id="52-oftype---filtrer-par-type">5.2 OfType - Filtrer par type<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Utile quand vous avez une collection d&rsquo;objets de types diff√©rents.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Gestion de formes g√©om√©triques</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">abstract</span> <span class="k">class</span> <span class="nc">Forme</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Couleur</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Cercle</span> <span class="p">:</span> <span class="n">Forme</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">double</span> <span class="n">Rayon</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Rectangle</span> <span class="p">:</span> <span class="n">Forme</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">double</span> <span class="n">Longueur</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">double</span> <span class="n">Largeur</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Triangle</span> <span class="p">:</span> <span class="n">Forme</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">double</span> <span class="n">Base</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">double</span> <span class="n">Hauteur</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Collection mixte</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Forme</span><span class="p">&gt;</span> <span class="n">formes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Forme</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Cercle</span> <span class="p">{</span> <span class="n">Couleur</span> <span class="p">=</span> <span class="s">&#34;Rouge&#34;</span><span class="p">,</span> <span class="n">Rayon</span> <span class="p">=</span> <span class="m">5</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Rectangle</span> <span class="p">{</span> <span class="n">Couleur</span> <span class="p">=</span> <span class="s">&#34;Bleu&#34;</span><span class="p">,</span> <span class="n">Longueur</span> <span class="p">=</span> <span class="m">10</span><span class="p">,</span> <span class="n">Largeur</span> <span class="p">=</span> <span class="m">5</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Cercle</span> <span class="p">{</span> <span class="n">Couleur</span> <span class="p">=</span> <span class="s">&#34;Vert&#34;</span><span class="p">,</span> <span class="n">Rayon</span> <span class="p">=</span> <span class="m">3</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Triangle</span> <span class="p">{</span> <span class="n">Couleur</span> <span class="p">=</span> <span class="s">&#34;Jaune&#34;</span><span class="p">,</span> <span class="n">Base</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">Hauteur</span> <span class="p">=</span> <span class="m">6</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Rectangle</span> <span class="p">{</span> <span class="n">Couleur</span> <span class="p">=</span> <span class="s">&#34;Orange&#34;</span><span class="p">,</span> <span class="n">Longueur</span> <span class="p">=</span> <span class="m">8</span><span class="p">,</span> <span class="n">Largeur</span> <span class="p">=</span> <span class="m">4</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Obtenir seulement les cercles</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">cercles</span> <span class="p">=</span> <span class="n">formes</span><span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="n">Cercle</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Cercles:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">c</span> <span class="k">in</span> <span class="n">cercles</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;- Cercle {c.Couleur}, rayon = {c.Rayon}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Cercle Rouge, rayon = 5</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Cercle Vert, rayon = 3</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Obtenir seulement les rectangles</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">rectangles</span> <span class="p">=</span> <span class="n">formes</span><span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="n">Rectangle</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Calcul d&#39;aire pour tous les cercles</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">airesDesCercles</span> <span class="p">=</span> <span class="n">formes</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OfType</span><span class="p">&lt;</span><span class="n">Cercle</span><span class="p">&gt;()</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">Math</span><span class="p">.</span><span class="n">PI</span> <span class="p">*</span> <span class="n">c</span><span class="p">.</span><span class="n">Rayon</span> <span class="p">*</span> <span class="n">c</span><span class="p">.</span><span class="n">Rayon</span><span class="p">);</span></span></span></code></pre></div>
<hr>
<h2 id="6-op√©rations-de-projection">6. Op√©rations de projection<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>La projection transforme les √©l√©ments d&rsquo;une collection en un autre format.</p>
<h3 id="61-select---transformer-chaque-√©l√©ment">6.1 Select - Transformer chaque √©l√©ment<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Syst√®me de gestion d&#39;employ√©s</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Employe</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Prenom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Departement</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">decimal</span> <span class="n">Salaire</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">DateTime</span> <span class="n">DateEmbauche</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Employe</span><span class="p">&gt;</span> <span class="n">employes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Employe</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Employe</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Prenom</span> <span class="p">=</span> <span class="s">&#34;Alice&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Tremblay&#34;</span><span class="p">,</span> <span class="n">Departement</span> <span class="p">=</span> <span class="s">&#34;IT&#34;</span><span class="p">,</span> <span class="n">Salaire</span> <span class="p">=</span> <span class="m">75000</span><span class="p">,</span> <span class="n">DateEmbauche</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2020</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">15</span><span class="p">)</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Employe</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Prenom</span> <span class="p">=</span> <span class="s">&#34;Bob&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Gagnon&#34;</span><span class="p">,</span> <span class="n">Departement</span> <span class="p">=</span> <span class="s">&#34;RH&#34;</span><span class="p">,</span> <span class="n">Salaire</span> <span class="p">=</span> <span class="m">65000</span><span class="p">,</span> <span class="n">DateEmbauche</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2019</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Employe</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">Prenom</span> <span class="p">=</span> <span class="s">&#34;Charlie&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Roy&#34;</span><span class="p">,</span> <span class="n">Departement</span> <span class="p">=</span> <span class="s">&#34;IT&#34;</span><span class="p">,</span> <span class="n">Salaire</span> <span class="p">=</span> <span class="m">85000</span><span class="p">,</span> <span class="n">DateEmbauche</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2018</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">20</span><span class="p">)</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Employe</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">Prenom</span> <span class="p">=</span> <span class="s">&#34;Diana&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Martin&#34;</span><span class="p">,</span> <span class="n">Departement</span> <span class="p">=</span> <span class="s">&#34;Ventes&#34;</span><span class="p">,</span> <span class="n">Salaire</span> <span class="p">=</span> <span class="m">70000</span><span class="p">,</span> <span class="n">DateEmbauche</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2021</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Extraire seulement les noms complets</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">nomsComplets</span> <span class="p">=</span> <span class="n">employes</span><span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="s">$&#34;{e.Prenom} {e.Nom}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Liste des employ√©s:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">nom</span> <span class="k">in</span> <span class="n">nomsComplets</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;- {nom}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Alice Tremblay</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Bob Gagnon</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Charlie Roy</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - Diana Martin</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Extraire seulement les salaires</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">salaires</span> <span class="p">=</span> <span class="n">employes</span><span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Salaire</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 3 : Augmenter tous les salaires de 10%</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">salairesAugmentes</span> <span class="p">=</span> <span class="n">employes</span><span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Salaire</span> <span class="p">*</span> <span class="m">1.10</span><span class="n">m</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nSalaires apr√®s augmentation de 10%:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">salaire</span> <span class="k">in</span> <span class="n">salairesAugmentes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{salaire:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 4 : Projection vers un type anonyme</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resumeEmployes</span> <span class="p">=</span> <span class="n">employes</span><span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">NomComplet</span> <span class="p">=</span> <span class="s">$&#34;{e.Prenom} {e.Nom}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Dept</span> <span class="p">=</span> <span class="n">e</span><span class="p">.</span><span class="n">Departement</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">SalaireAnnuel</span> <span class="p">=</span> <span class="n">e</span><span class="p">.</span><span class="n">Salaire</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">SalaireMensuel</span> <span class="p">=</span> <span class="n">e</span><span class="p">.</span><span class="n">Salaire</span> <span class="p">/</span> <span class="m">12</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Anciennete</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">Year</span> <span class="p">-</span> <span class="n">e</span><span class="p">.</span><span class="n">DateEmbauche</span><span class="p">.</span><span class="n">Year</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nR√©sum√© des employ√©s:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">e</span> <span class="k">in</span> <span class="n">resumeEmployes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{e.NomComplet} ({e.Dept}) - {e.SalaireAnnuel:C}/an - {e.Anciennete} ans d&#39;anciennet√©&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 5 : Projection vers une nouvelle classe</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">EmployeDTO</span>  <span class="c1">// DTO = Data Transfer Object</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">NomComplet</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Departement</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">InformationSalaire</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">employesDTO</span> <span class="p">=</span> <span class="n">employes</span><span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="n">EmployeDTO</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">NomComplet</span> <span class="p">=</span> <span class="s">$&#34;{e.Prenom} {e.Nom}&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Departement</span> <span class="p">=</span> <span class="n">e</span><span class="p">.</span><span class="n">Departement</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">InformationSalaire</span> <span class="p">=</span> <span class="s">$&#34;{e.Salaire:C} par ann√©e&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span></span></span></code></pre></div>
<h3 id="62-selectmany---aplatir-des-collections-imbriqu√©es">6.2 SelectMany - Aplatir des collections imbriqu√©es<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Utilis√© pour &ldquo;aplatir&rdquo; des collections de collections en une seule collection.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Universit√© avec √©tudiants et cours</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Cours</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Code</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Credits</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">EtudiantAvecCours</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Cours</span><span class="p">&gt;</span> <span class="n">CoursInscrits</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">EtudiantAvecCours</span><span class="p">&gt;</span> <span class="n">etudiants</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">EtudiantAvecCours</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">EtudiantAvecCours</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Alice&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">CoursInscrits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Cours</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">new</span> <span class="n">Cours</span> <span class="p">{</span> <span class="n">Code</span> <span class="p">=</span> <span class="s">&#34;INF101&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Programmation I&#34;</span><span class="p">,</span> <span class="n">Credits</span> <span class="p">=</span> <span class="m">3</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="k">new</span> <span class="n">Cours</span> <span class="p">{</span> <span class="n">Code</span> <span class="p">=</span> <span class="s">&#34;MAT201&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Calcul I&#34;</span><span class="p">,</span> <span class="n">Credits</span> <span class="p">=</span> <span class="m">4</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">EtudiantAvecCours</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Bob&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">CoursInscrits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Cours</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">new</span> <span class="n">Cours</span> <span class="p">{</span> <span class="n">Code</span> <span class="p">=</span> <span class="s">&#34;INF101&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Programmation I&#34;</span><span class="p">,</span> <span class="n">Credits</span> <span class="p">=</span> <span class="m">3</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="k">new</span> <span class="n">Cours</span> <span class="p">{</span> <span class="n">Code</span> <span class="p">=</span> <span class="s">&#34;INF202&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Structures de donn√©es&#34;</span><span class="p">,</span> <span class="n">Credits</span> <span class="p">=</span> <span class="m">3</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">EtudiantAvecCours</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Charlie&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">CoursInscrits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Cours</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">new</span> <span class="n">Cours</span> <span class="p">{</span> <span class="n">Code</span> <span class="p">=</span> <span class="s">&#34;MAT201&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Calcul I&#34;</span><span class="p">,</span> <span class="n">Credits</span> <span class="p">=</span> <span class="m">4</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="k">new</span> <span class="n">Cours</span> <span class="p">{</span> <span class="n">Code</span> <span class="p">=</span> <span class="s">&#34;PHY101&#34;</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Physique I&#34;</span><span class="p">,</span> <span class="n">Credits</span> <span class="p">=</span> <span class="m">4</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// PROBL√àME : Obtenir TOUS les cours (de tous les √©tudiants)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ùå MAUVAISE approche avec Select (ne fonctionne pas comme voulu)</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">tentative</span> <span class="p">=</span> <span class="n">etudiants</span><span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">CoursInscrits</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Retourne : IEnumerable&lt;List&lt;Cours&gt;&gt; - Une liste de listes !</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ BONNE approche avec SelectMany</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">tousLesCours</span> <span class="p">=</span> <span class="n">etudiants</span><span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">CoursInscrits</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Retourne : IEnumerable&lt;Cours&gt; - Une liste plate !</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Tous les cours (avec doublons):&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">cours</span> <span class="k">in</span> <span class="n">tousLesCours</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;- {cours.Code}: {cours.Nom}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - INF101: Programmation I</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - MAT201: Calcul I</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - INF101: Programmation I (doublon)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - INF202: Structures de donn√©es</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - MAT201: Calcul I (doublon)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// - PHY101: Physique I</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Obtenir les cours uniques</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">coursUniques</span> <span class="p">=</span> <span class="n">etudiants</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">CoursInscrits</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Distinct</span><span class="p">()</span> <span class="c1">// √âlimine les doublons</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">Code</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nCours uniques:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">code</span> <span class="k">in</span> <span class="n">coursUniques</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;- {code}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Compter le nombre total de cr√©dits de tous les √©tudiants</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">totalCredits</span> <span class="p">=</span> <span class="n">etudiants</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">CoursInscrits</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">Credits</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;\nTotal de cr√©dits inscrits: {totalCredits}&#34;</span><span class="p">);</span></span></span></code></pre></div>
<p><strong>Visualisation Select vs SelectMany :</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>Donn√©es:
√âtudiant 1 ‚Üí [Cours A, Cours B]
√âtudiant 2 ‚Üí [Cours C, Cours D]
√âtudiant 3 ‚Üí [Cours E]

Select() :
[[Cours A, Cours B], [Cours C, Cours D], [Cours E]]
‚Üë Liste de listes

SelectMany() :
[Cours A, Cours B, Cours C, Cours D, Cours E]
‚Üë Liste plate</code></pre></div>
<hr>
<h2 id="7-op√©rations-de-tri">7. Op√©rations de tri<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="71-orderby-et-orderbydescending">7.1 OrderBy et OrderByDescending<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Classement d&#39;athl√®tes</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Athlete</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Pays</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Age</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">double</span> <span class="n">TempsCourse</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="c1">// En secondes</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">MedaillesOr</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Athlete</span><span class="p">&gt;</span> <span class="n">athletes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Athlete</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Athlete</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Usain Bolt&#34;</span><span class="p">,</span> <span class="n">Pays</span> <span class="p">=</span> <span class="s">&#34;Jama√Øque&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">36</span><span class="p">,</span> <span class="n">TempsCourse</span> <span class="p">=</span> <span class="m">9.58</span><span class="p">,</span> <span class="n">MedaillesOr</span> <span class="p">=</span> <span class="m">8</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Athlete</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Carl Lewis&#34;</span><span class="p">,</span> <span class="n">Pays</span> <span class="p">=</span> <span class="s">&#34;USA&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">61</span><span class="p">,</span> <span class="n">TempsCourse</span> <span class="p">=</span> <span class="m">9.86</span><span class="p">,</span> <span class="n">MedaillesOr</span> <span class="p">=</span> <span class="m">9</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Athlete</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Andre De Grasse&#34;</span><span class="p">,</span> <span class="n">Pays</span> <span class="p">=</span> <span class="s">&#34;Canada&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">28</span><span class="p">,</span> <span class="n">TempsCourse</span> <span class="p">=</span> <span class="m">9.89</span><span class="p">,</span> <span class="n">MedaillesOr</span> <span class="p">=</span> <span class="m">1</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Athlete</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Yohan Blake&#34;</span><span class="p">,</span> <span class="n">Pays</span> <span class="p">=</span> <span class="s">&#34;Jama√Øque&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">33</span><span class="p">,</span> <span class="n">TempsCourse</span> <span class="p">=</span> <span class="m">9.69</span><span class="p">,</span> <span class="n">MedaillesOr</span> <span class="p">=</span> <span class="m">1</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Athlete</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Justin Gatlin&#34;</span><span class="p">,</span> <span class="n">Pays</span> <span class="p">=</span> <span class="s">&#34;USA&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">41</span><span class="p">,</span> <span class="n">TempsCourse</span> <span class="p">=</span> <span class="m">9.74</span><span class="p">,</span> <span class="n">MedaillesOr</span> <span class="p">=</span> <span class="m">1</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Trier par temps (du plus rapide au plus lent)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">classementParTemps</span> <span class="p">=</span> <span class="n">athletes</span><span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">TempsCourse</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Classement par temps de course:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">position</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">athlete</span> <span class="k">in</span> <span class="n">classementParTemps</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{position}. {athlete.Nom} - {athlete.TempsCourse}s&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">position</span><span class="p">++;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 1. Usain Bolt - 9.58s</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 2. Yohan Blake - 9.69s</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 3. Justin Gatlin - 9.74s</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 4. Carl Lewis - 9.86s</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 5. Andre De Grasse - 9.89s</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Trier par m√©dailles (du plus au moins)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">classementParMedailles</span> <span class="p">=</span> <span class="n">athletes</span><span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">MedaillesOr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nClassement par m√©dailles d&#39;or:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">athlete</span> <span class="k">in</span> <span class="n">classementParMedailles</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{athlete.Nom}: {athlete.MedaillesOr} m√©daille(s)&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 3 : Trier par nom (ordre alphab√©tique)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">classementAlphabetique</span> <span class="p">=</span> <span class="n">athletes</span><span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">Nom</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 4 : Trier par √¢ge (du plus jeune au plus vieux)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">classementParAge</span> <span class="p">=</span> <span class="n">athletes</span><span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">Age</span><span class="p">);</span></span></span></code></pre></div>
<h3 id="72-thenby-et-thenbydescending---tris-secondaires">7.2 ThenBy et ThenByDescending - Tris secondaires<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Utilis√©s pour trier selon plusieurs crit√®res.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE : Trier par pays, puis par temps</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">classementPaysEtTemps</span> <span class="p">=</span> <span class="n">athletes</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">Pays</span><span class="p">)</span>           <span class="c1">// D&#39;abord par pays</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">ThenBy</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">TempsCourse</span><span class="p">);</span>    <span class="c1">// Ensuite par temps</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Classement par pays puis temps:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">athlete</span> <span class="k">in</span> <span class="n">classementPaysEtTemps</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{athlete.Pays} - {athlete.Nom} ({athlete.TempsCourse}s)&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Canada - Andre De Grasse (9.89s)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Jama√Øque - Usain Bolt (9.58s)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Jama√Øque - Yohan Blake (9.69s)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// USA - Justin Gatlin (9.74s)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// USA - Carl Lewis (9.86s)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE : Trier par m√©dailles (desc), puis par temps (asc)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">classementComplet</span> <span class="p">=</span> <span class="n">athletes</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">MedaillesOr</span><span class="p">)</span>  <span class="c1">// Plus de m√©dailles en premier</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">ThenBy</span><span class="p">(</span><span class="n">a</span> <span class="p">=&gt;</span> <span class="n">a</span><span class="p">.</span><span class="n">TempsCourse</span><span class="p">);</span>            <span class="c1">// Si √©galit√©, plus rapide en premier</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nClassement final:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">athlete</span> <span class="k">in</span> <span class="n">classementComplet</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{athlete.Nom}: {athlete.MedaillesOr} m√©daille(s), {athlete.TempsCourse}s&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="73-reverse---inverser-lordre">7.3 Reverse - Inverser l&rsquo;ordre<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Liste de nombres</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">nombres</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Inverser l&#39;ordre</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">nombresInverses</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">AsEnumerable</span><span class="p">().</span><span class="n">Reverse</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">n</span> <span class="k">in</span> <span class="n">nombresInverses</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">Write</span><span class="p">(</span><span class="s">$&#34;{n} &#34;</span><span class="p">);</span> <span class="c1">// Affiche: 5 4 3 2 1</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<hr>
<h2 id="8-op√©rations-dagr√©gation">8. Op√©rations d&rsquo;Agr√©gation<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>Les op√©rations d&rsquo;agr√©gation calculent une <strong>valeur unique</strong> √† partir d&rsquo;une collection.</p>
<h3 id="81-count---compter-les-√©l√©ments">8.1 Count - Compter les √©l√©ments<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Syst√®me de gestion de biblioth√®que</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Livre</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Titre</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Auteur</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">AnneePublication</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Genre</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">NombrePages</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">EstDisponible</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">double</span> <span class="n">Note</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="c1">// Sur 5</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Livre</span><span class="p">&gt;</span> <span class="n">bibliotheque</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Livre</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Livre</span> <span class="p">{</span> <span class="n">Titre</span> <span class="p">=</span> <span class="s">&#34;1984&#34;</span><span class="p">,</span> <span class="n">Auteur</span> <span class="p">=</span> <span class="s">&#34;George Orwell&#34;</span><span class="p">,</span> <span class="n">AnneePublication</span> <span class="p">=</span> <span class="m">1949</span><span class="p">,</span> <span class="n">Genre</span> <span class="p">=</span> <span class="s">&#34;Science-Fiction&#34;</span><span class="p">,</span> <span class="n">NombrePages</span> <span class="p">=</span> <span class="m">328</span><span class="p">,</span> <span class="n">EstDisponible</span> <span class="p">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">Note</span> <span class="p">=</span> <span class="m">4.7</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Livre</span> <span class="p">{</span> <span class="n">Titre</span> <span class="p">=</span> <span class="s">&#34;Le Petit Prince&#34;</span><span class="p">,</span> <span class="n">Auteur</span> <span class="p">=</span> <span class="s">&#34;Antoine de Saint-Exup√©ry&#34;</span><span class="p">,</span> <span class="n">AnneePublication</span> <span class="p">=</span> <span class="m">1943</span><span class="p">,</span> <span class="n">Genre</span> <span class="p">=</span> <span class="s">&#34;Fiction&#34;</span><span class="p">,</span> <span class="n">NombrePages</span> <span class="p">=</span> <span class="m">96</span><span class="p">,</span> <span class="n">EstDisponible</span> <span class="p">=</span> <span class="kc">false</span><span class="p">,</span> <span class="n">Note</span> <span class="p">=</span> <span class="m">4.8</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Livre</span> <span class="p">{</span> <span class="n">Titre</span> <span class="p">=</span> <span class="s">&#34;Harry Potter √† l&#39;√©cole des sorciers&#34;</span><span class="p">,</span> <span class="n">Auteur</span> <span class="p">=</span> <span class="s">&#34;J.K. Rowling&#34;</span><span class="p">,</span> <span class="n">AnneePublication</span> <span class="p">=</span> <span class="m">1997</span><span class="p">,</span> <span class="n">Genre</span> <span class="p">=</span> <span class="s">&#34;Fantasy&#34;</span><span class="p">,</span> <span class="n">NombrePages</span> <span class="p">=</span> <span class="m">309</span><span class="p">,</span> <span class="n">EstDisponible</span> <span class="p">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">Note</span> <span class="p">=</span> <span class="m">4.9</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Livre</span> <span class="p">{</span> <span class="n">Titre</span> <span class="p">=</span> <span class="s">&#34;Le Seigneur des Anneaux&#34;</span><span class="p">,</span> <span class="n">Auteur</span> <span class="p">=</span> <span class="s">&#34;J.R.R. Tolkien&#34;</span><span class="p">,</span> <span class="n">AnneePublication</span> <span class="p">=</span> <span class="m">1954</span><span class="p">,</span> <span class="n">Genre</span> <span class="p">=</span> <span class="s">&#34;Fantasy&#34;</span><span class="p">,</span> <span class="n">NombrePages</span> <span class="p">=</span> <span class="m">1178</span><span class="p">,</span> <span class="n">EstDisponible</span> <span class="p">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">Note</span> <span class="p">=</span> <span class="m">4.9</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Livre</span> <span class="p">{</span> <span class="n">Titre</span> <span class="p">=</span> <span class="s">&#34;Dune&#34;</span><span class="p">,</span> <span class="n">Auteur</span> <span class="p">=</span> <span class="s">&#34;Frank Herbert&#34;</span><span class="p">,</span> <span class="n">AnneePublication</span> <span class="p">=</span> <span class="m">1965</span><span class="p">,</span> <span class="n">Genre</span> <span class="p">=</span> <span class="s">&#34;Science-Fiction&#34;</span><span class="p">,</span> <span class="n">NombrePages</span> <span class="p">=</span> <span class="m">688</span><span class="p">,</span> <span class="n">EstDisponible</span> <span class="p">=</span> <span class="kc">false</span><span class="p">,</span> <span class="n">Note</span> <span class="p">=</span> <span class="m">4.6</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Livre</span> <span class="p">{</span> <span class="n">Titre</span> <span class="p">=</span> <span class="s">&#34;Les Mis√©rables&#34;</span><span class="p">,</span> <span class="n">Auteur</span> <span class="p">=</span> <span class="s">&#34;Victor Hugo&#34;</span><span class="p">,</span> <span class="n">AnneePublication</span> <span class="p">=</span> <span class="m">1862</span><span class="p">,</span> <span class="n">Genre</span> <span class="p">=</span> <span class="s">&#34;Classique&#34;</span><span class="p">,</span> <span class="n">NombrePages</span> <span class="p">=</span> <span class="m">1463</span><span class="p">,</span> <span class="n">EstDisponible</span> <span class="p">=</span> <span class="kc">true</span><span class="p">,</span> <span class="n">Note</span> <span class="p">=</span> <span class="m">4.5</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Compter tous les livres</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">totalLivres</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Count</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Total de livres: {totalLivres}&#34;</span><span class="p">);</span> <span class="c1">// 6</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Compter les livres disponibles</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">livresDisponibles</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Count</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">EstDisponible</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Livres disponibles: {livresDisponibles}&#34;</span><span class="p">);</span> <span class="c1">// 4</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 3 : Compter par genre</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">livresSciFi</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Count</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">Genre</span> <span class="p">==</span> <span class="s">&#34;Science-Fiction&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">livresFantasy</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Count</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">Genre</span> <span class="p">==</span> <span class="s">&#34;Fantasy&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Science-Fiction: {livresSciFi}&#34;</span><span class="p">);</span>  <span class="c1">// 2</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Fantasy: {livresFantasy}&#34;</span><span class="p">);</span>        <span class="c1">// 2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 4 : Compter les livres r√©cents (apr√®s 1990)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">livresRecents</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Count</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">AnneePublication</span> <span class="p">&gt;=</span> <span class="m">1990</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Livres publi√©s apr√®s 1990: {livresRecents}&#34;</span><span class="p">);</span> <span class="c1">// 1</span></span></span></code></pre></div>
<h3 id="82-sum---calculer-la-somme">8.2 Sum - Calculer la somme<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Nombre total de pages dans la biblioth√®que</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">totalPages</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">NombrePages</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Total de pages: {totalPages:N0}&#34;</span><span class="p">);</span> <span class="c1">// 4 062</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Pages des livres disponibles</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">pagesDisponibles</span> <span class="p">=</span> <span class="n">bibliotheque</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">EstDisponible</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">NombrePages</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Pages disponibles: {pagesDisponibles:N0}&#34;</span><span class="p">);</span> <span class="c1">// 3 178</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 3 : Somme simple (liste de nombres)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">ventes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">100</span><span class="p">,</span> <span class="m">250</span><span class="p">,</span> <span class="m">175</span><span class="p">,</span> <span class="m">320</span><span class="p">,</span> <span class="m">95</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">totalVentes</span> <span class="p">=</span> <span class="n">ventes</span><span class="p">.</span><span class="n">Sum</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Total des ventes: {totalVentes}&#34;</span><span class="p">);</span> <span class="c1">// 940</span></span></span></code></pre></div>
<h3 id="83-average---calculer-la-moyenne">8.3 Average - Calculer la moyenne<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Note moyenne de tous les livres</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="n">noteMoyenne</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Average</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">Note</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Note moyenne: {noteMoyenne:F2}/5&#34;</span><span class="p">);</span> <span class="c1">// 4.73/5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Nombre moyen de pages</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="n">moyennePages</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Average</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">NombrePages</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Moyenne de pages: {moyennePages:F0}&#34;</span><span class="p">);</span> <span class="c1">// 677</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 3 : Note moyenne des livres Fantasy</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="n">noteMoyenneFantasy</span> <span class="p">=</span> <span class="n">bibliotheque</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">Genre</span> <span class="p">==</span> <span class="s">&#34;Fantasy&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Average</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">Note</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Note moyenne Fantasy: {noteMoyenneFantasy:F2}/5&#34;</span><span class="p">);</span> <span class="c1">// 4.90/5</span></span></span></code></pre></div>
<h3 id="84-min-et-max---trouver-minimum-et-maximum">8.4 Min et Max - Trouver minimum et maximum<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Plus vieux et plus r√©cent livre</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">anneeMin</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Min</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">AnneePublication</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">anneeMax</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Max</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">AnneePublication</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Plus vieux livre: {anneeMin}&#34;</span><span class="p">);</span>   <span class="c1">// 1862</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Plus r√©cent livre: {anneeMax}&#34;</span><span class="p">);</span>  <span class="c1">// 1997</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Livre le plus court et le plus long</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">pagesMin</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Min</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">NombrePages</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">pagesMax</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Max</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">NombrePages</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Livre le plus court: {pagesMin} pages&#34;</span><span class="p">);</span>  <span class="c1">// 96</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Livre le plus long: {pagesMax} pages&#34;</span><span class="p">);</span>   <span class="c1">// 1463</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 3 : Meilleure et pire note</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="n">meilleureNote</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Max</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">Note</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="n">pireNote</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">Min</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">Note</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Meilleure note: {meilleureNote}/5&#34;</span><span class="p">);</span>  <span class="c1">// 4.9/5</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Pire note: {pireNote}/5&#34;</span><span class="p">);</span>            <span class="c1">// 4.5/5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 4 : Obtenir LE livre avec la meilleure note (pas juste la note)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">meilleurLivre</span> <span class="p">=</span> <span class="n">bibliotheque</span><span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">Note</span><span class="p">).</span><span class="n">First</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Meilleur livre: {meilleurLivre.Titre} ({meilleurLivre.Note}/5)&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Harry Potter √† l&#39;√©cole des sorciers (4.9/5)</span></span></span></code></pre></div>
<h3 id="85-aggregate---agr√©gation-personnalis√©e">8.5 Aggregate - Agr√©gation personnalis√©e<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Pour des calculs plus complexes.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Concat√©ner tous les titres</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">string</span> <span class="n">tousTitres</span> <span class="p">=</span> <span class="n">bibliotheque</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">l</span> <span class="p">=&gt;</span> <span class="n">l</span><span class="p">.</span><span class="n">Titre</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Aggregate</span><span class="p">((</span><span class="n">titre1</span><span class="p">,</span> <span class="n">titre2</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">titre1</span> <span class="p">+</span> <span class="s">&#34;, &#34;</span> <span class="p">+</span> <span class="n">titre2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Tous les titres: {tousTitres}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Calculer un produit (multiplication)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">nombres</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">produit</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">a</span> <span class="p">*</span> <span class="n">b</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Produit: {produit}&#34;</span><span class="p">);</span> <span class="c1">// 2 √ó 3 √ó 4 √ó 5 = 120</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 3 : Calculer un total avec valeur initiale</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">sommeAvecInitial</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">Aggregate</span><span class="p">(</span><span class="m">100</span><span class="p">,</span> <span class="p">(</span><span class="n">total</span><span class="p">,</span> <span class="n">nombre</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">total</span> <span class="p">+</span> <span class="n">nombre</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Somme avec initial: {sommeAvecInitial}&#34;</span><span class="p">);</span> <span class="c1">// 100 + 2 + 3 + 4 + 5 = 114</span></span></span></code></pre></div>
<hr>
<h2 id="9-op√©rations-de-regroupement">9. Op√©rations de Regroupement<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="91-groupby---regrouper-par-cl√©">9.1 GroupBy - Regrouper par cl√©<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Analyse des ventes d&#39;un magasin</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Vente</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Produit</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Categorie</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">decimal</span> <span class="n">Montant</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">DateTime</span> <span class="n">Date</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Vendeur</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Vente</span><span class="p">&gt;</span> <span class="n">ventes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Vente</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Vente</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Laptop&#34;</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">1200</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">15</span><span class="p">),</span> <span class="n">Vendeur</span> <span class="p">=</span> <span class="s">&#34;Alice&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Vente</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Souris&#34;</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">25</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">16</span><span class="p">),</span> <span class="n">Vendeur</span> <span class="p">=</span> <span class="s">&#34;Bob&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Vente</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Bureau&#34;</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;Mobilier&#34;</span><span class="p">,</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">400</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">17</span><span class="p">),</span> <span class="n">Vendeur</span> <span class="p">=</span> <span class="s">&#34;Alice&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Vente</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Chaise&#34;</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;Mobilier&#34;</span><span class="p">,</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">150</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">18</span><span class="p">),</span> <span class="n">Vendeur</span> <span class="p">=</span> <span class="s">&#34;Charlie&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Vente</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">5</span><span class="p">,</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Clavier&#34;</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">80</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">19</span><span class="p">),</span> <span class="n">Vendeur</span> <span class="p">=</span> <span class="s">&#34;Bob&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Vente</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">6</span><span class="p">,</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Lampe&#34;</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;Mobilier&#34;</span><span class="p">,</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">45</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">20</span><span class="p">),</span> <span class="n">Vendeur</span> <span class="p">=</span> <span class="s">&#34;Alice&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Vente</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">7</span><span class="p">,</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;√âcran&#34;</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">350</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">21</span><span class="p">),</span> <span class="n">Vendeur</span> <span class="p">=</span> <span class="s">&#34;Charlie&#34;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Regrouper par cat√©gorie</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">ventesParCategorie</span> <span class="p">=</span> <span class="n">ventes</span><span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Categorie</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Ventes par cat√©gorie:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">groupe</span> <span class="k">in</span> <span class="n">ventesParCategorie</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;\n{groupe.Key}:&#34;</span><span class="p">);</span> <span class="c1">// Key = la cat√©gorie</span>
</span></span><span class="line"><span class="cl">    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">vente</span> <span class="k">in</span> <span class="n">groupe</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {vente.Produit}: {vente.Montant:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// √âlectronique:</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - Laptop: 1 200,00 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - Souris: 25,00 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - Clavier: 80,00 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - √âcran: 350,00 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Mobilier:</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - Bureau: 400,00 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - Chaise: 150,00 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - Lampe: 45,00 $</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Calculer le total par cat√©gorie</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">totauxParCategorie</span> <span class="p">=</span> <span class="n">ventes</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Categorie</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Categorie</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">NombreVentes</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Count</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">MontantTotal</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Montant</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">MontantMoyen</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Average</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüìä Statistiques par cat√©gorie:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">stat</span> <span class="k">in</span> <span class="n">totauxParCategorie</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{stat.Categorie}:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Nombre de ventes: {stat.NombreVentes}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Total: {stat.MontantTotal:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Moyenne: {stat.MontantMoyen:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// √âlectronique:</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   Nombre de ventes: 4</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   Total: 1 655,00 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   Moyenne: 413,75 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Mobilier:</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   Nombre de ventes: 3</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   Total: 595,00 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   Moyenne: 198,33 $</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 3 : Regrouper par vendeur</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">ventesParVendeur</span> <span class="p">=</span> <span class="n">ventes</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Vendeur</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Vendeur</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">NombreVentes</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Count</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">TotalVentes</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Montant</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">MeilleureVente</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Max</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">TotalVentes</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüèÜ Performance des vendeurs:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">vendeur</span> <span class="k">in</span> <span class="n">ventesParVendeur</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{vendeur.Vendeur}:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  {vendeur.NombreVentes} vente(s)&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Total: {vendeur.TotalVentes:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Meilleure vente: {vendeur.MeilleureVente:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 4 : Regrouper par mois</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">ventesParMois</span> <span class="p">=</span> <span class="n">ventes</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Date</span><span class="p">.</span><span class="n">Month</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Mois</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">Total</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span></span></span></code></pre></div>
<hr>
<h2 id="10-op√©rations-de-jointure">10. Op√©rations de Jointure<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>Les jointures combinent des donn√©es de deux collections bas√©es sur une cl√© commune.</p>
<h3 id="101-join---jointure-interne">10.1 Join - Jointure interne<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Syst√®me de commandes en ligne</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Client</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Email</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Ville</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Commande</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">ClientId</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">DateTime</span> <span class="n">DateCommande</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">decimal</span> <span class="n">Montant</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Statut</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Client</span><span class="p">&gt;</span> <span class="n">clients</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Client</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Client</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Alice Tremblay&#34;</span><span class="p">,</span> <span class="n">Email</span> <span class="p">=</span> <span class="s">&#34;alice@email.com&#34;</span><span class="p">,</span> <span class="n">Ville</span> <span class="p">=</span> <span class="s">&#34;Montr√©al&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Client</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Bob Gagnon&#34;</span><span class="p">,</span> <span class="n">Email</span> <span class="p">=</span> <span class="s">&#34;bob@email.com&#34;</span><span class="p">,</span> <span class="n">Ville</span> <span class="p">=</span> <span class="s">&#34;Qu√©bec&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Client</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Charlie Roy&#34;</span><span class="p">,</span> <span class="n">Email</span> <span class="p">=</span> <span class="s">&#34;charlie@email.com&#34;</span><span class="p">,</span> <span class="n">Ville</span> <span class="p">=</span> <span class="s">&#34;Montr√©al&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Client</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Diana Martin&#34;</span><span class="p">,</span> <span class="n">Email</span> <span class="p">=</span> <span class="s">&#34;diana@email.com&#34;</span><span class="p">,</span> <span class="n">Ville</span> <span class="p">=</span> <span class="s">&#34;Laval&#34;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Commande</span><span class="p">&gt;</span> <span class="n">commandes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Commande</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Commande</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">101</span><span class="p">,</span> <span class="n">ClientId</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">DateCommande</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">15</span><span class="p">),</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">150.00</span><span class="n">m</span><span class="p">,</span> <span class="n">Statut</span> <span class="p">=</span> <span class="s">&#34;Livr√©e&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Commande</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">102</span><span class="p">,</span> <span class="n">ClientId</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">DateCommande</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">20</span><span class="p">),</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">75.50</span><span class="n">m</span><span class="p">,</span> <span class="n">Statut</span> <span class="p">=</span> <span class="s">&#34;En cours&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Commande</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">103</span><span class="p">,</span> <span class="n">ClientId</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">DateCommande</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">18</span><span class="p">),</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">200.00</span><span class="n">m</span><span class="p">,</span> <span class="n">Statut</span> <span class="p">=</span> <span class="s">&#34;Livr√©e&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Commande</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">104</span><span class="p">,</span> <span class="n">ClientId</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">DateCommande</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">22</span><span class="p">),</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">95.00</span><span class="n">m</span><span class="p">,</span> <span class="n">Statut</span> <span class="p">=</span> <span class="s">&#34;Livr√©e&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Commande</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">105</span><span class="p">,</span> <span class="n">ClientId</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">DateCommande</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">25</span><span class="p">),</span> <span class="n">Montant</span> <span class="p">=</span> <span class="m">120.00</span><span class="n">m</span><span class="p">,</span> <span class="n">Statut</span> <span class="p">=</span> <span class="s">&#34;En cours&#34;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Note: Aucune commande pour Diana (Id = 4)</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 1 : Joindre clients et commandes</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">commandesAvecClient</span> <span class="p">=</span> <span class="n">commandes</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">clients</span><span class="p">,</span>                          <span class="c1">// Collection √† joindre</span>
</span></span><span class="line"><span class="cl">    <span class="n">commande</span> <span class="p">=&gt;</span> <span class="n">commande</span><span class="p">.</span><span class="n">ClientId</span><span class="p">,</span>    <span class="c1">// Cl√© de la premi√®re collection</span>
</span></span><span class="line"><span class="cl">    <span class="n">client</span> <span class="p">=&gt;</span> <span class="n">client</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span>              <span class="c1">// Cl√© de la deuxi√®me collection</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="n">commande</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">new</span>         <span class="c1">// R√©sultat de la jointure</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">NumeroCommande</span> <span class="p">=</span> <span class="n">commande</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">NomClient</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">VilleClient</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="n">Ville</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">Montant</span> <span class="p">=</span> <span class="n">commande</span><span class="p">.</span><span class="n">Montant</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">Date</span> <span class="p">=</span> <span class="n">commande</span><span class="p">.</span><span class="n">DateCommande</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">Statut</span> <span class="p">=</span> <span class="n">commande</span><span class="p">.</span><span class="n">Statut</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;üì¶ Commandes avec informations clients:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">cmd</span> <span class="k">in</span> <span class="n">commandesAvecClient</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Commande #{cmd.NumeroCommande} - {cmd.NomClient} ({cmd.VilleClient}) - {cmd.Montant:C} - {cmd.Statut}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Commande #101 - Alice Tremblay (Montr√©al) - 150,00 $ - Livr√©e</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Commande #102 - Alice Tremblay (Montr√©al) - 75,50 $ - En cours</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Commande #103 - Bob Gagnon (Qu√©bec) - 200,00 $ - Livr√©e</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Commande #104 - Charlie Roy (Montr√©al) - 95,00 $ - Livr√©e</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Commande #105 - Alice Tremblay (Montr√©al) - 120,00 $ - En cours</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ö†Ô∏è Note: Diana n&#39;appara√Æt pas (elle n&#39;a aucune commande)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE 2 : Total des commandes par client</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">totauxParClient</span> <span class="p">=</span> <span class="n">commandes</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="n">clients</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="n">cmd</span> <span class="p">=&gt;</span> <span class="n">cmd</span><span class="p">.</span><span class="n">ClientId</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="n">cli</span> <span class="p">=&gt;</span> <span class="n">cli</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">          <span class="p">(</span><span class="n">cmd</span><span class="p">,</span> <span class="n">cli</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">Client</span> <span class="p">=</span> <span class="n">cli</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span> <span class="n">Montant</span> <span class="p">=</span> <span class="n">cmd</span><span class="p">.</span><span class="n">Montant</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Client</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Client</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">NombreCommandes</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Count</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">TotalAchats</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">TotalAchats</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüí∞ Total des achats par client:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">total</span> <span class="k">in</span> <span class="n">totauxParClient</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{total.Client}: {total.NombreCommandes} commande(s) - Total: {total.TotalAchats:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche:</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Alice Tremblay: 3 commande(s) - Total: 345,50 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Bob Gagnon: 1 commande(s) - Total: 200,00 $</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Charlie Roy: 1 commande(s) - Total: 95,00 $</span></span></span></code></pre></div>
<h3 id="102-groupjoin---jointure-de-groupe">10.2 GroupJoin - Jointure de groupe<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Similaire √† un LEFT JOIN en SQL - inclut tous les √©l√©ments de la premi√®re collection m√™me s&rsquo;ils n&rsquo;ont pas de correspondance.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE : Tous les clients avec leurs commandes (m√™me ceux sans commande)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">clientsAvecCommandes</span> <span class="p">=</span> <span class="n">clients</span><span class="p">.</span><span class="n">GroupJoin</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">commandes</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">client</span> <span class="p">=&gt;</span> <span class="n">client</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">commande</span> <span class="p">=&gt;</span> <span class="n">commande</span><span class="p">.</span><span class="n">ClientId</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">commandesClient</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">NomClient</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">Ville</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="n">Ville</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">NombreCommandes</span> <span class="p">=</span> <span class="n">commandesClient</span><span class="p">.</span><span class="n">Count</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">TotalAchats</span> <span class="p">=</span> <span class="n">commandesClient</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="p">(</span><span class="kt">decimal?</span><span class="p">)</span><span class="n">c</span><span class="p">.</span><span class="n">Montant</span><span class="p">)</span> <span class="p">??</span> <span class="m">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">Commandes</span> <span class="p">=</span> <span class="n">commandesClient</span><span class="p">.</span><span class="n">ToList</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüë• Tous les clients:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">client</span> <span class="k">in</span> <span class="n">clientsAvecCommandes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;\n{client.NomClient} ({client.Ville}):&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Nombre de commandes: {client.NombreCommandes}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Total des achats: {client.TotalAchats:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Commandes</span><span class="p">.</span><span class="n">Any</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;  Commandes:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">cmd</span> <span class="k">in</span> <span class="n">client</span><span class="p">.</span><span class="n">Commandes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;    - #{cmd.Id}: {cmd.Montant:C} ({cmd.Statut})&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;  ‚ö†Ô∏è Aucune commande&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Affiche maintenant TOUS les clients, y compris Diana qui n&#39;a aucune commande!</span></span></span></code></pre></div>
<hr>
<h2 id="11-op√©rations-densemble">11. Op√©rations d&rsquo;Ensemble<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="111-distinct---√©liminer-les-doublons">11.1 Distinct - √âliminer les doublons<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Tags d&#39;articles de blog</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">tagsArticle1</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">&#34;C#&#34;</span><span class="p">,</span> <span class="s">&#34;LINQ&#34;</span><span class="p">,</span> <span class="s">&#34;Programming&#34;</span><span class="p">,</span> <span class="s">&#34;Tutorial&#34;</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">tagsArticle2</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">&#34;C#&#34;</span><span class="p">,</span> <span class="s">&#34;ASP.NET&#34;</span><span class="p">,</span> <span class="s">&#34;Web&#34;</span><span class="p">,</span> <span class="s">&#34;Programming&#34;</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">tagsArticle3</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">&#34;Python&#34;</span><span class="p">,</span> <span class="s">&#34;Programming&#34;</span><span class="p">,</span> <span class="s">&#34;Data Science&#34;</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Combiner tous les tags</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">tousTags</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl"><span class="n">tousTags</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">tagsArticle1</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">tousTags</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">tagsArticle2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">tousTags</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">tagsArticle3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Tous les tags (avec doublons):&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&#34;, &#34;</span><span class="p">,</span> <span class="n">tousTags</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">// C#, LINQ, Programming, Tutorial, C#, ASP.NET, Web, Programming, Python, Programming, Data Science</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Obtenir les tags uniques</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">tagsUniques</span> <span class="p">=</span> <span class="n">tousTags</span><span class="p">.</span><span class="n">Distinct</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nTags uniques:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&#34;, &#34;</span><span class="p">,</span> <span class="n">tagsUniques</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">// C#, LINQ, Programming, Tutorial, ASP.NET, Web, Python, Data Science</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Distinct avec objets personnalis√©s</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Ville</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Province</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Ville</span><span class="p">&gt;</span> <span class="n">villes</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Ville</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Ville</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Montr√©al&#34;</span><span class="p">,</span> <span class="n">Province</span> <span class="p">=</span> <span class="s">&#34;Qu√©bec&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Ville</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Qu√©bec&#34;</span><span class="p">,</span> <span class="n">Province</span> <span class="p">=</span> <span class="s">&#34;Qu√©bec&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Ville</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Montr√©al&#34;</span><span class="p">,</span> <span class="n">Province</span> <span class="p">=</span> <span class="s">&#34;Qu√©bec&#34;</span> <span class="p">},</span> <span class="c1">// Doublon!</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Ville</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Toronto&#34;</span><span class="p">,</span> <span class="n">Province</span> <span class="p">=</span> <span class="s">&#34;Ontario&#34;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Pour Distinct sur objets, il faut impl√©menter IEquatable ou utiliser DistinctBy</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">villesUniques</span> <span class="p">=</span> <span class="n">villes</span><span class="p">.</span><span class="n">DistinctBy</span><span class="p">(</span><span class="n">v</span> <span class="p">=&gt;</span> <span class="n">v</span><span class="p">.</span><span class="n">Nom</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nVilles uniques:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">ville</span> <span class="k">in</span> <span class="n">villesUniques</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{ville.Nom}, {ville.Province}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="112-union---union-de-deux-collections">11.2 Union - Union de deux collections<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Combine deux collections et √©limine les doublons.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">liste1</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">liste2</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">8</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">union</span> <span class="p">=</span> <span class="n">liste1</span><span class="p">.</span><span class="n">Union</span><span class="p">(</span><span class="n">liste2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Union:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&#34;, &#34;</span><span class="p">,</span> <span class="n">union</span><span class="p">));</span> <span class="c1">// 1, 2, 3, 4, 5, 6, 7, 8</span></span></span></code></pre></div>
<h3 id="113-intersect---intersection">11.3 Intersect - Intersection<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Retourne uniquement les √©l√©ments pr√©sents dans LES DEUX collections.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">intersection</span> <span class="p">=</span> <span class="n">liste1</span><span class="p">.</span><span class="n">Intersect</span><span class="p">(</span><span class="n">liste2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Intersection:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&#34;, &#34;</span><span class="p">,</span> <span class="n">intersection</span><span class="p">));</span> <span class="c1">// 4, 5</span></span></span></code></pre></div>
<h3 id="114-except---diff√©rence">11.4 Except - Diff√©rence<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Retourne les √©l√©ments de la premi√®re collection qui ne sont PAS dans la deuxi√®me.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">difference</span> <span class="p">=</span> <span class="n">liste1</span><span class="p">.</span><span class="n">Except</span><span class="p">(</span><span class="n">liste2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Diff√©rence (liste1 - liste2):&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&#34;, &#34;</span><span class="p">,</span> <span class="n">difference</span><span class="p">));</span> <span class="c1">// 1, 2, 3</span></span></span></code></pre></div>
<h3 id="115-exemple-pratique--gestion-dabonnements">11.5 Exemple Pratique : Gestion d&rsquo;abonnements<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Abonn√©s √† des newsletters</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">abonnesNewsletter</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;alice@email.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;bob@email.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;charlie@email.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;diana@email.com&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">abonnesBlog</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;bob@email.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;charlie@email.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;eve@email.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;frank@email.com&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Qui est abonn√© aux DEUX?</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">abonnesDeuxServices</span> <span class="p">=</span> <span class="n">abonnesNewsletter</span><span class="p">.</span><span class="n">Intersect</span><span class="p">(</span><span class="n">abonnesBlog</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;üìß Abonn√©s aux deux services:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">email</span> <span class="k">in</span> <span class="n">abonnesDeuxServices</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {email}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// bob@email.com</span>
</span></span><span class="line"><span class="cl"><span class="c1">// charlie@email.com</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Qui est abonn√© √† la newsletter mais PAS au blog?</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">uniquementNewsletter</span> <span class="p">=</span> <span class="n">abonnesNewsletter</span><span class="p">.</span><span class="n">Except</span><span class="p">(</span><span class="n">abonnesBlog</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüì∞ Uniquement √† la newsletter:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">email</span> <span class="k">in</span> <span class="n">uniquementNewsletter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {email}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// alice@email.com</span>
</span></span><span class="line"><span class="cl"><span class="c1">// diana@email.com</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Tous les abonn√©s (peu importe le service)</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">tousLesAbonnes</span> <span class="p">=</span> <span class="n">abonnesNewsletter</span><span class="p">.</span><span class="n">Union</span><span class="p">(</span><span class="n">abonnesBlog</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;\nüë• Total d&#39;abonn√©s uniques: {tousLesAbonnes.Count()}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="c1">// 6</span></span></span></code></pre></div>
<hr>
<h2 id="12-op√©rations-de-quantification">12. Op√©rations de Quantification<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>Ces op√©rations retournent un <strong>bool√©en</strong> (true/false).</p>
<h3 id="121-any---au-moins-un-√©l√©ment-satisfait-la-condition">12.1 Any - Au moins un √©l√©ment satisfait la condition<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Validation de stock</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Produit</span><span class="p">&gt;</span> <span class="n">produits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Produit</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Laptop&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">5</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Souris&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">50</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Clavier&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">0</span> <span class="p">},</span>  <span class="c1">// Rupture de stock!</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Produit</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;√âcran&#34;</span><span class="p">,</span> <span class="n">Stock</span> <span class="p">=</span> <span class="m">10</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Y a-t-il au moins un produit en rupture de stock?</span>
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">ruptureStock</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Any</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Stock</span> <span class="p">==</span> <span class="m">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Rupture de stock: {ruptureStock}&#34;</span><span class="p">);</span> <span class="c1">// True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Y a-t-il au moins un produit avec beaucoup de stock?</span>
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">stockAbondant</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Any</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Stock</span> <span class="p">&gt;</span> <span class="m">30</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Stock abondant: {stockAbondant}&#34;</span><span class="p">);</span> <span class="c1">// True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Y a-t-il des produits?</span>
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">existeProduits</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Any</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Existe des produits: {existeProduits}&#34;</span><span class="p">);</span> <span class="c1">// True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE PRATIQUE : Validation de formulaire</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Formulaire</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Email</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Telephone</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">FormulaireEstValide</span><span class="p">(</span><span class="n">Formulaire</span> <span class="n">form</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Au moins un champ doit √™tre vide pour que le formulaire soit invalide</span>
</span></span><span class="line"><span class="cl">    <span class="kt">bool</span> <span class="n">champVide</span> <span class="p">=</span> <span class="k">new</span><span class="p">[]</span> <span class="p">{</span> <span class="n">form</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span> <span class="n">form</span><span class="p">.</span><span class="n">Email</span><span class="p">,</span> <span class="n">form</span><span class="p">.</span><span class="n">Telephone</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="n">Any</span><span class="p">(</span><span class="n">champ</span> <span class="p">=&gt;</span> <span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrWhiteSpace</span><span class="p">(</span><span class="n">champ</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">!</span><span class="n">champVide</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="122-all---tous-les-√©l√©ments-satisfont-la-condition">12.2 All - Tous les √©l√©ments satisfont la condition<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Tous les produits ont-ils un stock positif?</span>
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">tousEnStock</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">All</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Stock</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Tous en stock: {tousEnStock}&#34;</span><span class="p">);</span> <span class="c1">// False (√† cause du Clavier)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Tous les produits ont-ils un stock &gt;= 0?</span>
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">stockValide</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">All</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Stock</span> <span class="p">&gt;=</span> <span class="m">0</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Stock valide: {stockValide}&#34;</span><span class="p">);</span> <span class="c1">// True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE : Validation d&#39;√¢ge pour un groupe</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span> <span class="n">groupe</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Alice&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">20</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Bob&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">22</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Charlie&#34;</span><span class="p">,</span> <span class="n">Age</span> <span class="p">=</span> <span class="m">21</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Tous les √©tudiants sont-ils majeurs?</span>
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">tousMajeurs</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">All</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;=</span> <span class="m">18</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Tous majeurs: {tousMajeurs}&#34;</span><span class="p">);</span> <span class="c1">// True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Tous les √©tudiants ont-ils plus de 21 ans?</span>
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">tousPlus21</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">All</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;</span> <span class="m">21</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Tous plus de 21 ans: {tousPlus21}&#34;</span><span class="p">);</span> <span class="c1">// False</span></span></span></code></pre></div>
<h3 id="123-contains---v√©rifie-si-un-√©l√©ment-existe">12.3 Contains - V√©rifie si un √©l√©ment existe<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">fruits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="s">&#34;Pomme&#34;</span><span class="p">,</span> <span class="s">&#34;Banane&#34;</span><span class="p">,</span> <span class="s">&#34;Orange&#34;</span><span class="p">,</span> <span class="s">&#34;Kiwi&#34;</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">aPomme</span> <span class="p">=</span> <span class="n">fruits</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;Pomme&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Contient Pomme: {aPomme}&#34;</span><span class="p">);</span> <span class="c1">// True</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">aRaisin</span> <span class="p">=</span> <span class="n">fruits</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;Raisin&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Contient Raisin: {aRaisin}&#34;</span><span class="p">);</span> <span class="c1">// False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE : V√©rifier si un utilisateur existe</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">utilisateursAutorises</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;admin@site.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;moderateur@site.com&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;editeur@site.com&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">string</span> <span class="n">emailUtilisateur</span> <span class="p">=</span> <span class="s">&#34;admin@site.com&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">bool</span> <span class="n">estAutorise</span> <span class="p">=</span> <span class="n">utilisateursAutorises</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">emailUtilisateur</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">estAutorise</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;‚úÖ Acc√®s autoris√©&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;‚ùå Acc√®s refus√©&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<hr>
<h2 id="13-op√©rations-de-partition">13. Op√©rations de Partition<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="131-take---prendre-les-n-premiers-√©l√©ments">13.1 Take - Prendre les N premiers √©l√©ments<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// MISE EN CONTEXTE : Affichage de r√©sultats pagin√©s</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">resultatsRecherche</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;R√©sultat 1&#34;</span><span class="p">,</span> <span class="s">&#34;R√©sultat 2&#34;</span><span class="p">,</span> <span class="s">&#34;R√©sultat 3&#34;</span><span class="p">,</span> <span class="s">&#34;R√©sultat 4&#34;</span><span class="p">,</span> <span class="s">&#34;R√©sultat 5&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;R√©sultat 6&#34;</span><span class="p">,</span> <span class="s">&#34;R√©sultat 7&#34;</span><span class="p">,</span> <span class="s">&#34;R√©sultat 8&#34;</span><span class="p">,</span> <span class="s">&#34;R√©sultat 9&#34;</span><span class="p">,</span> <span class="s">&#34;R√©sultat 10&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Afficher les 3 premiers r√©sultats</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">top3</span> <span class="p">=</span> <span class="n">resultatsRecherche</span><span class="p">.</span><span class="n">Take</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Top 3 r√©sultats:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">resultat</span> <span class="k">in</span> <span class="n">top3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {resultat}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// R√©sultat 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">// R√©sultat 2</span>
</span></span><span class="line"><span class="cl"><span class="c1">// R√©sultat 3</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE : Top 5 des meilleurs √©tudiants</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">top5Etudiants</span> <span class="p">=</span> <span class="n">etudiants</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Take</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">e</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüèÜ Top 5 des √©tudiants:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">rang</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">etudiant</span> <span class="k">in</span> <span class="n">top5Etudiants</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{rang}. {etudiant.Nom}: {etudiant.Moyenne}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">rang</span><span class="p">++;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="132-skip---ignorer-les-n-premiers-√©l√©ments">13.2 Skip - Ignorer les N premiers √©l√©ments<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Ignorer les 3 premiers r√©sultats</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">apres3</span> <span class="p">=</span> <span class="n">resultatsRecherche</span><span class="p">.</span><span class="n">Skip</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Apr√®s les 3 premiers:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">resultat</span> <span class="k">in</span> <span class="n">apres3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {resultat}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// R√©sultat 4</span>
</span></span><span class="line"><span class="cl"><span class="c1">// R√©sultat 5</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ...</span>
</span></span><span class="line"><span class="cl"><span class="c1">// R√©sultat 10</span></span></span></code></pre></div>
<h3 id="133-pagination-avec-take-et-skip">13.3 Pagination avec Take et Skip<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// EXEMPLE PRATIQUE : Pagination</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">pageSize</span> <span class="p">=</span> <span class="m">3</span><span class="p">;</span>  <span class="c1">// 3 r√©sultats par page</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">pageNumber</span> <span class="p">=</span> <span class="m">2</span><span class="p">;</span> <span class="c1">// Page 2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultatsPagines</span> <span class="p">=</span> <span class="n">resultatsRecherche</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Skip</span><span class="p">((</span><span class="n">pageNumber</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">*</span> <span class="n">pageSize</span><span class="p">)</span>  <span class="c1">// Ignorer les pages pr√©c√©dentes</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Take</span><span class="p">(</span><span class="n">pageSize</span><span class="p">);</span>                     <span class="c1">// Prendre uniquement cette page</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Page {pageNumber}:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">resultat</span> <span class="k">in</span> <span class="n">resultatsPagines</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {resultat}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Page 2:</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - R√©sultat 4</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - R√©sultat 5</span>
</span></span><span class="line"><span class="cl"><span class="c1">//   - R√©sultat 6</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Fonction de pagination r√©utilisable</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kd">static</span> <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">ObtenirPage</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">source</span><span class="p">,</span> <span class="kt">int</span> <span class="n">numeroPage</span><span class="p">,</span> <span class="kt">int</span> <span class="n">taillePage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">source</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="n">Skip</span><span class="p">((</span><span class="n">numeroPage</span> <span class="p">-</span> <span class="m">1</span><span class="p">)</span> <span class="p">*</span> <span class="n">taillePage</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">.</span><span class="n">Take</span><span class="p">(</span><span class="n">taillePage</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Utilisation</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">page1</span> <span class="p">=</span> <span class="n">ObtenirPage</span><span class="p">(</span><span class="n">resultatsRecherche</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">page2</span> <span class="p">=</span> <span class="n">ObtenirPage</span><span class="p">(</span><span class="n">resultatsRecherche</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">page3</span> <span class="p">=</span> <span class="n">ObtenirPage</span><span class="p">(</span><span class="n">resultatsRecherche</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">3</span><span class="p">);</span></span></span></code></pre></div>
<h3 id="134-takewhile-et-skipwhile---selon-une-condition">13.4 TakeWhile et SkipWhile - Selon une condition<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">nombres</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="p">{</span> <span class="m">1</span><span class="p">,</span> <span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="m">6</span><span class="p">,</span> <span class="m">7</span><span class="p">,</span> <span class="m">8</span><span class="p">,</span> <span class="m">9</span><span class="p">,</span> <span class="m">10</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Prendre tant que la condition est vraie</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">inferieursA6</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">TakeWhile</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">&lt;</span> <span class="m">6</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;TakeWhile (&lt; 6):&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&#34;, &#34;</span><span class="p">,</span> <span class="n">inferieursA6</span><span class="p">));</span> <span class="c1">// 1, 2, 3, 4, 5</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Ignorer tant que la condition est vraie</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">depuis6</span> <span class="p">=</span> <span class="n">nombres</span><span class="p">.</span><span class="n">SkipWhile</span><span class="p">(</span><span class="n">n</span> <span class="p">=&gt;</span> <span class="n">n</span> <span class="p">&lt;</span> <span class="m">6</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;SkipWhile (&lt; 6):&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Join</span><span class="p">(</span><span class="s">&#34;, &#34;</span><span class="p">,</span> <span class="n">depuis6</span><span class="p">));</span> <span class="c1">// 6, 7, 8, 9, 10</span></span></span></code></pre></div>
<hr>
<h2 id="14-linq-avec-objets-complexes">14. LINQ avec Objets Complexes<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="141-exemple-complet--syst√®me-universitaire">14.1 Exemple Complet : Syst√®me Universitaire<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Universite</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Departement</span><span class="p">&gt;</span> <span class="n">Departements</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Departement</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Professeur</span><span class="p">&gt;</span> <span class="n">Professeurs</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Cours</span><span class="p">&gt;</span> <span class="n">Cours</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Professeur</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Nom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Specialite</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">AnneesExperience</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Cours</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Code</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Titre</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Credits</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">ProfesseurNom</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span> <span class="n">EtudiantsInscrits</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// Donn√©es</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">universite</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Universite</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Universit√© du Qu√©bec&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">Departements</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Departement</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="n">Departement</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Informatique&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">Professeurs</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Professeur</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">new</span> <span class="n">Professeur</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Dr. Smith&#34;</span><span class="p">,</span> <span class="n">Specialite</span> <span class="p">=</span> <span class="s">&#34;Intelligence Artificielle&#34;</span><span class="p">,</span> <span class="n">AnneesExperience</span> <span class="p">=</span> <span class="m">15</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="k">new</span> <span class="n">Professeur</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Dr. Johnson&#34;</span><span class="p">,</span> <span class="n">Specialite</span> <span class="p">=</span> <span class="s">&#34;Bases de donn√©es&#34;</span><span class="p">,</span> <span class="n">AnneesExperience</span> <span class="p">=</span> <span class="m">10</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="n">Cours</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Cours</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">new</span> <span class="n">Cours</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">Code</span> <span class="p">=</span> <span class="s">&#34;INF101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">Titre</span> <span class="p">=</span> <span class="s">&#34;Programmation I&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">Credits</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">ProfesseurNom</span> <span class="p">=</span> <span class="s">&#34;Dr. Smith&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">EtudiantsInscrits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Alice&#34;</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">85</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">                        <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Bob&#34;</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">78</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">},</span>
</span></span><span class="line"><span class="cl">                <span class="k">new</span> <span class="n">Cours</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">Code</span> <span class="p">=</span> <span class="s">&#34;INF202&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">Titre</span> <span class="p">=</span> <span class="s">&#34;Structures de donn√©es&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">Credits</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">ProfesseurNom</span> <span class="p">=</span> <span class="s">&#34;Dr. Johnson&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">EtudiantsInscrits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Charlie&#34;</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">90</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">                        <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Diana&#34;</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">82</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">        <span class="k">new</span> <span class="n">Departement</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Math√©matiques&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">Professeurs</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Professeur</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">new</span> <span class="n">Professeur</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Dr. Williams&#34;</span><span class="p">,</span> <span class="n">Specialite</span> <span class="p">=</span> <span class="s">&#34;Alg√®bre&#34;</span><span class="p">,</span> <span class="n">AnneesExperience</span> <span class="p">=</span> <span class="m">20</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">},</span>
</span></span><span class="line"><span class="cl">            <span class="n">Cours</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Cours</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">new</span> <span class="n">Cours</span>
</span></span><span class="line"><span class="cl">                <span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="n">Code</span> <span class="p">=</span> <span class="s">&#34;MAT101&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">Titre</span> <span class="p">=</span> <span class="s">&#34;Calcul I&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">Credits</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">ProfesseurNom</span> <span class="p">=</span> <span class="s">&#34;Dr. Williams&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="n">EtudiantsInscrits</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Etudiant</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">                    <span class="p">{</span>
</span></span><span class="line"><span class="cl">                        <span class="k">new</span> <span class="n">Etudiant</span> <span class="p">{</span> <span class="n">Nom</span> <span class="p">=</span> <span class="s">&#34;Eve&#34;</span><span class="p">,</span> <span class="n">Moyenne</span> <span class="p">=</span> <span class="m">88</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">                    <span class="p">}</span>
</span></span><span class="line"><span class="cl">                <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// REQU√äTE 1 : Tous les professeurs de l&#39;universit√©</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">tousProfesseurs</span> <span class="p">=</span> <span class="n">universite</span><span class="p">.</span><span class="n">Departements</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Professeurs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">p</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">Specialite</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">AnneesExperience</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;üë®‚Äçüè´ Tous les professeurs:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">prof</span> <span class="k">in</span> <span class="n">tousProfesseurs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {prof.Nom} ({prof.Specialite}) - {prof.AnneesExperience} ans&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// REQU√äTE 2 : Tous les cours avec plus de 3 cr√©dits</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">coursAvances</span> <span class="p">=</span> <span class="n">universite</span><span class="p">.</span><span class="n">Departements</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Cours</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">Credits</span> <span class="p">&gt;</span> <span class="m">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">c</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span> <span class="n">c</span><span class="p">.</span><span class="n">Titre</span><span class="p">,</span> <span class="n">c</span><span class="p">.</span><span class="n">Credits</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüìö Cours avanc√©s (&gt;3 cr√©dits):&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">cours</span> <span class="k">in</span> <span class="n">coursAvances</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {cours.Code}: {cours.Titre} ({cours.Credits} cr√©dits)&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// REQU√äTE 3 : Nombre total d&#39;√©tudiants dans l&#39;universit√©</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">totalEtudiants</span> <span class="p">=</span> <span class="n">universite</span><span class="p">.</span><span class="n">Departements</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Cours</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">EtudiantsInscrits</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Distinct</span><span class="p">()</span> <span class="c1">// Au cas o√π un √©tudiant est dans plusieurs cours</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Count</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;\nüë• Total d&#39;√©tudiants: {totalEtudiants}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// REQU√äTE 4 : Moyenne g√©n√©rale de l&#39;universit√©</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">double</span> <span class="n">moyenneGenerale</span> <span class="p">=</span> <span class="n">universite</span><span class="p">.</span><span class="n">Departements</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Cours</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">EtudiantsInscrits</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Average</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;üìä Moyenne g√©n√©rale: {moyenneGenerale:F2}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// REQU√äTE 5 : Statistiques par d√©partement</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">statsParDepartement</span> <span class="p">=</span> <span class="n">universite</span><span class="p">.</span><span class="n">Departements</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Departement</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">NombreProfesseurs</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">Professeurs</span><span class="p">.</span><span class="n">Count</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">NombreCours</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">Cours</span><span class="p">.</span><span class="n">Count</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">TotalEtudiants</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">Cours</span><span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">EtudiantsInscrits</span><span class="p">).</span><span class="n">Count</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">MoyenneDepartement</span> <span class="p">=</span> <span class="n">d</span><span class="p">.</span><span class="n">Cours</span><span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">EtudiantsInscrits</span><span class="p">).</span><span class="n">Average</span><span class="p">(</span><span class="n">e</span> <span class="p">=&gt;</span> <span class="n">e</span><span class="p">.</span><span class="n">Moyenne</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüìà Statistiques par d√©partement:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">stat</span> <span class="k">in</span> <span class="n">statsParDepartement</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{stat.Departement}:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Professeurs: {stat.NombreProfesseurs}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Cours: {stat.NombreCours}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  √âtudiants: {stat.TotalEtudiants}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Moyenne: {stat.MoyenneDepartement:F2}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// REQU√äTE 6 : Cours les plus populaires</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">coursPopulaires</span> <span class="p">=</span> <span class="n">universite</span><span class="p">.</span><span class="n">Departements</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">SelectMany</span><span class="p">(</span><span class="n">d</span> <span class="p">=&gt;</span> <span class="n">d</span><span class="p">.</span><span class="n">Cours</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="n">c</span><span class="p">.</span><span class="n">EtudiantsInscrits</span><span class="p">.</span><span class="n">Count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Take</span><span class="p">(</span><span class="m">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">c</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">c</span><span class="p">.</span><span class="n">Code</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">c</span><span class="p">.</span><span class="n">Titre</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">NombreEtudiants</span> <span class="p">=</span> <span class="n">c</span><span class="p">.</span><span class="n">EtudiantsInscrits</span><span class="p">.</span><span class="n">Count</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüî• Cours les plus populaires:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">cours</span> <span class="k">in</span> <span class="n">coursPopulaires</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {cours.Code}: {cours.Titre} ({cours.NombreEtudiants} √©tudiants)&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<hr>
<h2 id="15-cas-pratiques-r√©els">15. Cas Pratiques R√©els<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="151-analyse-de-logs-dapplication">15.1 Analyse de Logs d&rsquo;Application<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">LogEntry</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">DateTime</span> <span class="n">Timestamp</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Level</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span> <span class="c1">// INFO, WARNING, ERROR</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Message</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Module</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">LogEntry</span><span class="p">&gt;</span> <span class="n">logs</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">LogEntry</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">LogEntry</span> <span class="p">{</span> <span class="n">Timestamp</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">AddHours</span><span class="p">(-</span><span class="m">5</span><span class="p">),</span> <span class="n">Level</span> <span class="p">=</span> <span class="s">&#34;INFO&#34;</span><span class="p">,</span> <span class="n">Message</span> <span class="p">=</span> <span class="s">&#34;Application started&#34;</span><span class="p">,</span> <span class="n">Module</span> <span class="p">=</span> <span class="s">&#34;Startup&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">LogEntry</span> <span class="p">{</span> <span class="n">Timestamp</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">AddHours</span><span class="p">(-</span><span class="m">4</span><span class="p">),</span> <span class="n">Level</span> <span class="p">=</span> <span class="s">&#34;ERROR&#34;</span><span class="p">,</span> <span class="n">Message</span> <span class="p">=</span> <span class="s">&#34;Database connection failed&#34;</span><span class="p">,</span> <span class="n">Module</span> <span class="p">=</span> <span class="s">&#34;Database&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">LogEntry</span> <span class="p">{</span> <span class="n">Timestamp</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">AddHours</span><span class="p">(-</span><span class="m">3</span><span class="p">),</span> <span class="n">Level</span> <span class="p">=</span> <span class="s">&#34;WARNING&#34;</span><span class="p">,</span> <span class="n">Message</span> <span class="p">=</span> <span class="s">&#34;High memory usage&#34;</span><span class="p">,</span> <span class="n">Module</span> <span class="p">=</span> <span class="s">&#34;Performance&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">LogEntry</span> <span class="p">{</span> <span class="n">Timestamp</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">AddHours</span><span class="p">(-</span><span class="m">2</span><span class="p">),</span> <span class="n">Level</span> <span class="p">=</span> <span class="s">&#34;ERROR&#34;</span><span class="p">,</span> <span class="n">Message</span> <span class="p">=</span> <span class="s">&#34;Null reference exception&#34;</span><span class="p">,</span> <span class="n">Module</span> <span class="p">=</span> <span class="s">&#34;UserService&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">LogEntry</span> <span class="p">{</span> <span class="n">Timestamp</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="n">AddHours</span><span class="p">(-</span><span class="m">1</span><span class="p">),</span> <span class="n">Level</span> <span class="p">=</span> <span class="s">&#34;INFO&#34;</span><span class="p">,</span> <span class="n">Message</span> <span class="p">=</span> <span class="s">&#34;User logged in&#34;</span><span class="p">,</span> <span class="n">Module</span> <span class="p">=</span> <span class="s">&#34;Auth&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">LogEntry</span> <span class="p">{</span> <span class="n">Timestamp</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">,</span> <span class="n">Level</span> <span class="p">=</span> <span class="s">&#34;ERROR&#34;</span><span class="p">,</span> <span class="n">Message</span> <span class="p">=</span> <span class="s">&#34;Payment processing failed&#34;</span><span class="p">,</span> <span class="n">Module</span> <span class="p">=</span> <span class="s">&#34;Payment&#34;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Rapport d&#39;erreurs</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">erreurs</span> <span class="p">=</span> <span class="n">logs</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">log</span> <span class="p">=&gt;</span> <span class="n">log</span><span class="p">.</span><span class="n">Level</span> <span class="p">==</span> <span class="s">&#34;ERROR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">log</span> <span class="p">=&gt;</span> <span class="n">log</span><span class="p">.</span><span class="n">Timestamp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">log</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Heure</span> <span class="p">=</span> <span class="n">log</span><span class="p">.</span><span class="n">Timestamp</span><span class="p">.</span><span class="n">ToString</span><span class="p">(</span><span class="s">&#34;HH:mm&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">log</span><span class="p">.</span><span class="n">Module</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">log</span><span class="p">.</span><span class="n">Message</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;üî¥ Erreurs r√©centes:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">erreur</span> <span class="k">in</span> <span class="n">erreurs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;[{erreur.Heure}] {erreur.Module}: {erreur.Message}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Statistiques par module</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">statsParModule</span> <span class="p">=</span> <span class="n">logs</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">log</span> <span class="p">=&gt;</span> <span class="n">log</span><span class="p">.</span><span class="n">Module</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Module</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">Total</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Count</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">Erreurs</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Count</span><span class="p">(</span><span class="n">log</span> <span class="p">=&gt;</span> <span class="n">log</span><span class="p">.</span><span class="n">Level</span> <span class="p">==</span> <span class="s">&#34;ERROR&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">Warnings</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Count</span><span class="p">(</span><span class="n">log</span> <span class="p">=&gt;</span> <span class="n">log</span><span class="p">.</span><span class="n">Level</span> <span class="p">==</span> <span class="s">&#34;WARNING&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">stat</span> <span class="p">=&gt;</span> <span class="n">stat</span><span class="p">.</span><span class="n">Erreurs</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüìä Statistiques par module:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">stat</span> <span class="k">in</span> <span class="n">statsParModule</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{stat.Module}: {stat.Total} logs (dont {stat.Erreurs} erreurs)&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Alertes critiques (plusieurs erreurs dans un module)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">modulesCritiques</span> <span class="p">=</span> <span class="n">logs</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">log</span> <span class="p">=&gt;</span> <span class="n">log</span><span class="p">.</span><span class="n">Level</span> <span class="p">==</span> <span class="s">&#34;ERROR&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">log</span> <span class="p">=&gt;</span> <span class="n">log</span><span class="p">.</span><span class="n">Module</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Count</span><span class="p">()</span> <span class="p">&gt;=</span> <span class="m">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Key</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">modulesCritiques</span><span class="p">.</span><span class="n">Any</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\n‚ö†Ô∏è ALERTE: Modules avec erreurs multiples:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">module</span> <span class="k">in</span> <span class="n">modulesCritiques</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  - {module}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="152-analyse-de-donn√©es-de-ventes">15.2 Analyse de Donn√©es de Ventes<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Transaction</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Id</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">DateTime</span> <span class="n">Date</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Produit</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">decimal</span> <span class="n">Prix</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Quantite</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Categorie</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">Region</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">List</span><span class="p">&lt;</span><span class="n">Transaction</span><span class="p">&gt;</span> <span class="n">transactions</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Transaction</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Transaction</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">15</span><span class="p">),</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Laptop&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">1200</span><span class="p">,</span> <span class="n">Quantite</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Region</span> <span class="p">=</span> <span class="s">&#34;Qu√©bec&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Transaction</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">16</span><span class="p">),</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Souris&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">25</span><span class="p">,</span> <span class="n">Quantite</span> <span class="p">=</span> <span class="m">10</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Region</span> <span class="p">=</span> <span class="s">&#34;Montr√©al&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Transaction</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">17</span><span class="p">),</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Bureau&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">400</span><span class="p">,</span> <span class="n">Quantite</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;Mobilier&#34;</span><span class="p">,</span> <span class="n">Region</span> <span class="p">=</span> <span class="s">&#34;Qu√©bec&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Transaction</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">18</span><span class="p">),</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Chaise&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">150</span><span class="p">,</span> <span class="n">Quantite</span> <span class="p">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;Mobilier&#34;</span><span class="p">,</span> <span class="n">Region</span> <span class="p">=</span> <span class="s">&#34;Laval&#34;</span> <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="k">new</span> <span class="n">Transaction</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="m">5</span><span class="p">,</span> <span class="n">Date</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DateTime</span><span class="p">(</span><span class="m">2024</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">19</span><span class="p">),</span> <span class="n">Produit</span> <span class="p">=</span> <span class="s">&#34;Clavier&#34;</span><span class="p">,</span> <span class="n">Prix</span> <span class="p">=</span> <span class="m">80</span><span class="p">,</span> <span class="n">Quantite</span> <span class="p">=</span> <span class="m">5</span><span class="p">,</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="s">&#34;√âlectronique&#34;</span><span class="p">,</span> <span class="n">Region</span> <span class="p">=</span> <span class="s">&#34;Montr√©al&#34;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Chiffre d&#39;affaires total</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">decimal</span> <span class="n">chiffreAffaires</span> <span class="p">=</span> <span class="n">transactions</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">Prix</span> <span class="p">*</span> <span class="n">t</span><span class="p">.</span><span class="n">Quantite</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;üí∞ Chiffre d&#39;affaires total: {chiffreAffaires:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Top 3 des produits les plus vendus</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">top3Produits</span> <span class="p">=</span> <span class="n">transactions</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">Produit</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Produit</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">QuantiteTotale</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">Quantite</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">Revenu</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">Prix</span> <span class="p">*</span> <span class="n">t</span><span class="p">.</span><span class="n">Quantite</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Revenu</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Take</span><span class="p">(</span><span class="m">3</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüèÜ Top 3 produits par revenu:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">produit</span> <span class="k">in</span> <span class="n">top3Produits</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  {produit.Produit}: {produit.QuantiteTotale} unit√©s - {produit.Revenu:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Performance par r√©gion</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">performanceRegions</span> <span class="p">=</span> <span class="n">transactions</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">Region</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Region</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">NombreTransactions</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Count</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">RevenuTotal</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">Prix</span> <span class="p">*</span> <span class="n">t</span><span class="p">.</span><span class="n">Quantite</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">PanierMoyen</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Average</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">Prix</span> <span class="p">*</span> <span class="n">t</span><span class="p">.</span><span class="n">Quantite</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderByDescending</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">RevenuTotal</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüìç Performance par r√©gion:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">region</span> <span class="k">in</span> <span class="n">performanceRegions</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{region.Region}:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Transactions: {region.NombreTransactions}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Revenu: {region.RevenuTotal:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  Panier moyen: {region.PanierMoyen:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Tendance quotidienne</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">ventesParJour</span> <span class="p">=</span> <span class="n">transactions</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">Date</span><span class="p">.</span><span class="n">Date</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">groupe</span> <span class="p">=&gt;</span> <span class="k">new</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Date</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Key</span><span class="p">.</span><span class="n">ToString</span><span class="p">(</span><span class="s">&#34;dd/MM/yyyy&#34;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">Revenu</span> <span class="p">=</span> <span class="n">groupe</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">t</span> <span class="p">=&gt;</span> <span class="n">t</span><span class="p">.</span><span class="n">Prix</span> <span class="p">*</span> <span class="n">t</span><span class="p">.</span><span class="n">Quantite</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Date</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;\nüìà Ventes quotidiennes:&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">jour</span> <span class="k">in</span> <span class="n">ventesParJour</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;  {jour.Date}: {jour.Revenu:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<hr>
<h2 id="16-bonnes-pratiques-et-pi√®ges">16. Bonnes Pratiques et Pi√®ges<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="161-√©viter-lex√©cution-multiple">16.1 √âviter l&rsquo;Ex√©cution Multiple<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚ùå MAUVAIS - La requ√™te est ex√©cut√©e 3 fois!</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">requete</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">count</span> <span class="p">=</span> <span class="n">requete</span><span class="p">.</span><span class="n">Count</span><span class="p">();</span>        <span class="c1">// Ex√©cution 1</span>
</span></span><span class="line"><span class="cl"><span class="kt">decimal</span> <span class="n">total</span> <span class="p">=</span> <span class="n">requete</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span><span class="p">);</span>  <span class="c1">// Ex√©cution 2</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">liste</span> <span class="p">=</span> <span class="n">requete</span><span class="p">.</span><span class="n">ToList</span><span class="p">();</span>       <span class="c1">// Ex√©cution 3</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - Ex√©cuter une seule fois avec ToList()</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultats</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">).</span><span class="n">ToList</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="n">count</span> <span class="p">=</span> <span class="n">resultats</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>         <span class="c1">// Pas d&#39;ex√©cution (d√©j√† en m√©moire)</span>
</span></span><span class="line"><span class="cl"><span class="kt">decimal</span> <span class="n">total</span> <span class="p">=</span> <span class="n">resultats</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span><span class="p">);</span>  <span class="c1">// Pas d&#39;ex√©cution</span></span></span></code></pre></div>
<h3 id="162-attention-aux-null-references">16.2 Attention aux Null References<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚ùå RISQUE - NullReferenceException si un produit est null</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">produitsChers</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ MIEUX - Filtrer les nulls d&#39;abord</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">produitsChers</span> <span class="p">=</span> <span class="n">produits</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ OU utiliser l&#39;op√©rateur ?.</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">prixMax</span> <span class="p">=</span> <span class="n">produits</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Max</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span><span class="p">);</span></span></span></code></pre></div>
<h3 id="163-performance--where-avant-select">16.3 Performance : Where avant Select<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚ùå MOINS EFFICACE - Transforme tout puis filtre</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultats</span> <span class="p">=</span> <span class="n">produits</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">p</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">})</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ PLUS EFFICACE - Filtre d&#39;abord, puis transforme</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultats</span> <span class="p">=</span> <span class="n">produits</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">p</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">});</span></span></span></code></pre></div>
<h3 id="164-utiliser-any-plut√¥t-que-count">16.4 Utiliser Any() plut√¥t que Count()<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚ùå MOINS EFFICACE - Compte tous les √©l√©ments</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">produits</span><span class="p">.</span><span class="n">Count</span><span class="p">()</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ PLUS EFFICACE - S&#39;arr√™te d√®s qu&#39;un √©l√©ment est trouv√©</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">produits</span><span class="p">.</span><span class="n">Any</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ùå MOINS EFFICACE</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">produits</span><span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">1000</span><span class="p">).</span><span class="n">Count</span><span class="p">()</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ PLUS EFFICACE</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">produits</span><span class="p">.</span><span class="n">Any</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">1000</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="165-√©viter-les-requ√™tes-complexes-dans-les-boucles">16.5 √âviter les Requ√™tes Complexes dans les Boucles<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚ùå TR√àS MAUVAIS - Requ√™te LINQ dans une boucle!</span>
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">categorie</span> <span class="k">in</span> <span class="n">categories</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">count</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">Count</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Categorie</span> <span class="p">==</span> <span class="n">categorie</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{categorie}: {count}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - Une seule requ√™te avec GroupBy</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">comptesParCategorie</span> <span class="p">=</span> <span class="n">produits</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">GroupBy</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Categorie</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Select</span><span class="p">(</span><span class="n">g</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">Categorie</span> <span class="p">=</span> <span class="n">g</span><span class="p">.</span><span class="n">Key</span><span class="p">,</span> <span class="n">Count</span> <span class="p">=</span> <span class="n">g</span><span class="p">.</span><span class="n">Count</span><span class="p">()</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">groupe</span> <span class="k">in</span> <span class="n">comptesParCategorie</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{groupe.Categorie}: {groupe.Count}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="166-pr√©f√©rer-firstordefault-√†-first">16.6 Pr√©f√©rer FirstOrDefault() √† First()<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚ùå RISQUE - L√®ve une exception si aucun √©l√©ment trouv√©</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">produit</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">First</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="m">999</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ S√âCURITAIRE - Retourne null si aucun √©l√©ment trouv√©</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">produit</span> <span class="p">=</span> <span class="n">produits</span><span class="p">.</span><span class="n">FirstOrDefault</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Id</span> <span class="p">==</span> <span class="m">999</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="n">produit</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">produit</span><span class="p">.</span><span class="n">Nom</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Produit introuvable&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="167-ordre-des-op√©rations">16.7 Ordre des Op√©rations<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// L&#39;ordre compte pour la performance!</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - Filtre puis trie (trie moins d&#39;√©l√©ments)</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultats</span> <span class="p">=</span> <span class="n">produits</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">)</span>     <span class="c1">// R√©duit la collection</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Nom</span><span class="p">);</span>         <span class="c1">// Trie une petite collection</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ùå MOINS BON - Trie puis filtre (trie inutilement tout)</span>
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">resultats</span> <span class="p">=</span> <span class="n">produits</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">OrderBy</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Nom</span><span class="p">)</span>          <span class="c1">// Trie TOUT</span>
</span></span><span class="line"><span class="cl">    <span class="p">.</span><span class="n">Where</span><span class="p">(</span><span class="n">p</span> <span class="p">=&gt;</span> <span class="n">p</span><span class="p">.</span><span class="n">Prix</span> <span class="p">&gt;</span> <span class="m">100</span><span class="p">);</span>    <span class="c1">// Puis filtre</span></span></span></code></pre></div>
<hr>
<h2 id="-r√©sum√©-des-op√©rations-linq">üìö R√©sum√© des Op√©rations LINQ<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<table>
  <thead>
      <tr>
          <th>Cat√©gorie</th>
          <th>Op√©rations</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Filtrage</strong></td>
          <td><code>Where</code>, <code>OfType</code></td>
          <td>S√©lectionner des √©l√©ments selon une condition</td>
      </tr>
      <tr>
          <td><strong>Projection</strong></td>
          <td><code>Select</code>, <code>SelectMany</code></td>
          <td>Transformer les √©l√©ments</td>
      </tr>
      <tr>
          <td><strong>Tri</strong></td>
          <td><code>OrderBy</code>, <code>OrderByDescending</code>, <code>ThenBy</code>, <code>Reverse</code></td>
          <td>Trier les √©l√©ments</td>
      </tr>
      <tr>
          <td><strong>Agr√©gation</strong></td>
          <td><code>Count</code>, <code>Sum</code>, <code>Average</code>, <code>Min</code>, <code>Max</code>, <code>Aggregate</code></td>
          <td>Calculer des valeurs</td>
      </tr>
      <tr>
          <td><strong>Regroupement</strong></td>
          <td><code>GroupBy</code></td>
          <td>Regrouper par cl√©</td>
      </tr>
      <tr>
          <td><strong>Jointure</strong></td>
          <td><code>Join</code>, <code>GroupJoin</code></td>
          <td>Combiner deux collections</td>
      </tr>
      <tr>
          <td><strong>Ensemble</strong></td>
          <td><code>Distinct</code>, <code>Union</code>, <code>Intersect</code>, <code>Except</code></td>
          <td>Op√©rations d&rsquo;ensemble</td>
      </tr>
      <tr>
          <td><strong>Quantification</strong></td>
          <td><code>Any</code>, <code>All</code>, <code>Contains</code></td>
          <td>Tests bool√©ens</td>
      </tr>
      <tr>
          <td><strong>Partition</strong></td>
          <td><code>Take</code>, <code>Skip</code>, <code>TakeWhile</code>, <code>SkipWhile</code></td>
          <td>Pagination et d√©coupage</td>
      </tr>
      <tr>
          <td><strong>√âl√©ment</strong></td>
          <td><code>First</code>, <code>FirstOrDefault</code>, <code>Last</code>, <code>Single</code></td>
          <td>Obtenir un √©l√©ment</td>
      </tr>
      <tr>
          <td><strong>Conversion</strong></td>
          <td><code>ToList</code>, <code>ToArray</code>, <code>ToDictionary</code></td>
          <td>Convertir en collection</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-checklist-de-ma√Ætrise-linq">üéØ Checklist de Ma√Ætrise LINQ<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<ul>
<li><input disabled="" type="checkbox"> Je comprends la diff√©rence entre ex√©cution diff√©r√©e et imm√©diate</li>
<li><input disabled="" type="checkbox"> Je sais utiliser <code>Where()</code> pour filtrer</li>
<li><input disabled="" type="checkbox"> Je sais utiliser <code>Select()</code> pour projeter/transformer</li>
<li><input disabled="" type="checkbox"> Je ma√Ætrise <code>OrderBy()</code> et <code>ThenBy()</code> pour trier</li>
<li><input disabled="" type="checkbox"> Je sais utiliser <code>GroupBy()</code> pour regrouper</li>
<li><input disabled="" type="checkbox"> Je comprends la diff√©rence entre <code>First()</code> et <code>FirstOrDefault()</code></li>
<li><input disabled="" type="checkbox"> Je sais utiliser <code>Any()</code> et <code>All()</code> pour tester</li>
<li><input disabled="" type="checkbox"> Je ma√Ætrise <code>Sum()</code>, <code>Average()</code>, <code>Min()</code>, <code>Max()</code></li>
<li><input disabled="" type="checkbox"> Je sais utiliser <code>Take()</code> et <code>Skip()</code> pour paginer</li>
<li><input disabled="" type="checkbox"> Je comprends <code>Join()</code> et <code>GroupJoin()</code></li>
<li><input disabled="" type="checkbox"> Je sais √©viter les pi√®ges de performance</li>
<li><input disabled="" type="checkbox"> Je peux √©crire des requ√™tes LINQ complexes</li>
</ul>
<hr>
<h2 id="-ressources-suppl√©mentaires">üîó Ressources Suppl√©mentaires<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<ul>
<li>Documentation Microsoft LINQ : <a href="https://docs.microsoft.com/fr-fr/dotnet/csharp/linq/" rel="external">https://docs.microsoft.com/fr-fr/dotnet/csharp/linq/</a></li>
<li>LINQ samples : <a href="https://code.msdn.microsoft.com/101-LINQ-Samples-3fb9811b" rel="external">https://code.msdn.microsoft.com/101-LINQ-Samples-3fb9811b</a></li>
</ul>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation"><a id="R-logo" 
   style="display: flex; justify-content: center; align-items: center; text-decoration: none;" 
   href="/420-413/index.html">

    <img src="/420-413/images/favicon.jpg" width="40" height="40" alt="logo" style="margin-right: 8px;">

    <div style="display: flex; flex-direction: column; font-size: 130%; text-align: center;">
        <span>D√©veloppement d'applications pour entreprises</span>
    </div>
</a>

        <search><form action="/420-413/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-fw fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-fw fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks default-animation">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/420-413/index.html"><a class="padding" href="/420-413/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols default-animation">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main default-animation">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/420-413/intro/index.html"><a class="padding" href="/420-413/intro/index.html">Intro √† Visual Studio 2022</a></li>
            <li class="" data-nav-id="/420-413/architecture/index.html"><a class="padding" href="/420-413/architecture/index.html">Architecture .NET</a></li>
            <li class="" data-nav-id="/420-413/intro_syntaxe_c_sharp/index.html"><a class="padding" href="/420-413/intro_syntaxe_c_sharp/index.html">Intro et syntaxe du C#</a></li>
            <li class="" data-nav-id="/420-413/variables/index.html"><a class="padding" href="/420-413/variables/index.html">Variables</a></li>
            <li class="" data-nav-id="/420-413/operateurs/index.html"><a class="padding" href="/420-413/operateurs/index.html">Op√©rateurs</a></li>
            <li class="" data-nav-id="/420-413/structures_de_controles/index.html"><a class="padding" href="/420-413/structures_de_controles/index.html">Structures de contr√¥les</a></li>
            <li class="" data-nav-id="/420-413/tableaux_collections/index.html"><a class="padding" href="/420-413/tableaux_collections/index.html">Tableaux et collections</a></li>
            <li class="" data-nav-id="/420-413/methodes/index.html"><a class="padding" href="/420-413/methodes/index.html">Les m√©thodes en c#</a></li>
            <li class="" data-nav-id="/420-413/serie_exos_1/index.html"><a class="padding" href="/420-413/serie_exos_1/index.html">S√©rie d&#39;exercices 1</a></li>
            <li class="" data-nav-id="/420-413/poo/index.html"><a class="padding" href="/420-413/poo/index.html">Programmation orient√©e objet - partie 1</a></li>
            <li class="" data-nav-id="/420-413/poo_2/index.html"><a class="padding" href="/420-413/poo_2/index.html">Programmation orient√©e objet - partie 2</a></li>
            <li class="" data-nav-id="/420-413/poo_exos/index.html"><a class="padding" href="/420-413/poo_exos/index.html">Exercices - POO</a></li>
            <li class="" data-nav-id="/420-413/agile-_scrum/index.html"><a class="padding" href="/420-413/agile-_scrum/index.html">Agile - Scrum</a></li>
            <li class="active " data-nav-id="/420-413/linq/index.html"><a class="padding" href="/420-413/linq/index.html">LINQ</a></li>
            <li class="" data-nav-id="/420-413/pratique_exam1/index.html"><a class="padding" href="/420-413/pratique_exam1/index.html">Pratique - Exam 1</a></li>
            <li class="" data-nav-id="/420-413/wpf/index.html"><a class="padding" href="/420-413/wpf/index.html">WPF - intro</a></li>
            <li class="" data-nav-id="/420-413/patron_observateur/index.html"><a class="padding" href="/420-413/patron_observateur/index.html">Patron observateur</a></li>
            <li class="" data-nav-id="/420-413/patron_commande/index.html"><a class="padding" href="/420-413/patron_commande/index.html">Patron commande</a></li>
            <li class="" data-nav-id="/420-413/injection_dependance/index.html"><a class="padding" href="/420-413/injection_dependance/index.html">Injection de d√©pendance</a></li>
            <li class="" data-nav-id="/420-413/mvvm/index.html"><a class="padding" href="/420-413/mvvm/index.html">MVVM</a></li>
            <li class="" data-nav-id="/420-413/mini_projets/index.html"><a class="padding" href="/420-413/mini_projets/index.html">Mini-projets</a></li>
            <li class="" data-nav-id="/420-413/rubrique/index.html"><a class="padding" href="/420-413/rubrique/index.html">Rubrique  - Semaine 2</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts default-animation">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin" class="default-animation"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols default-animation">
          <ul class="">
            <li class="R-variantswitcher">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-paint-brush"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <label class="a11y-only" for="R-select-variant">Theme</label>
                  <select id="R-select-variant">
                    <option id="R-select-variant-learn" value="learn" selected>Learn</option>
                    <option id="R-select-variant-relearn-auto" value="relearn-auto">Relearn Light/Dark</option>
                    <option id="R-select-variant-zen-light" value="zen-light">Zen Light</option>
                    <option id="R-select-variant-zen-dark" value="zen-dark">Zen Dark</option>
                    <option id="R-select-variant-neon" value="neon">Neon</option>
                  </select>
                </div>
                <div class="clear"></div>
              </div>
              <script>window.relearn.markVariant();</script>
            </li>
          </ul>
        </div>
<div id="R-footer" class="default-animation"></div>
      </div>
    </aside>
    <script src="/420-413/js/perfect-scrollbar/perfect-scrollbar.min.js?1771266203" defer></script>
    <script src="/420-413/js/theme.js?1771266203" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
