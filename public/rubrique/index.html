<!DOCTYPE html>
<html id="R-html" lang="fr-ca" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head><script src="/420-413/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=420-413/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.148.2">
    <meta name="generator" content="Relearn 9.0.3+8bb66fa674351f3a0b0917a7552caac686eca920">
    <meta name="description" content="Noms Significatifs et Fonctions Claires üìã Objectifs de cette semaine Apprendre √† :
Identifier et corriger les noms non significatifs Reconna√Ætre et r√©soudre les fonctions trop longues √âliminer les commentaires inutiles en √©crivant du code auto-explicatif üí° Citation de la semaine ‚ÄúLe code est lu beaucoup plus souvent qu‚Äôil n‚Äôest √©crit. Facilitez la lecture, pas l‚Äô√©criture.‚Äù">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Rubrique  - Semaine 2 :: D√©veloppement d&#39;applications pour entreprises">
    <meta name="twitter:description" content="Noms Significatifs et Fonctions Claires üìã Objectifs de cette semaine Apprendre √† :
Identifier et corriger les noms non significatifs Reconna√Ætre et r√©soudre les fonctions trop longues √âliminer les commentaires inutiles en √©crivant du code auto-explicatif üí° Citation de la semaine ‚ÄúLe code est lu beaucoup plus souvent qu‚Äôil n‚Äôest √©crit. Facilitez la lecture, pas l‚Äô√©criture.‚Äù">
    <meta property="og:url" content="http://localhost:1313/420-413/rubrique/index.html">
    <meta property="og:site_name" content="D√©veloppement d&#39;applications pour entreprises">
    <meta property="og:title" content="Rubrique  - Semaine 2 :: D√©veloppement d&#39;applications pour entreprises">
    <meta property="og:description" content="Noms Significatifs et Fonctions Claires üìã Objectifs de cette semaine Apprendre √† :
Identifier et corriger les noms non significatifs Reconna√Ætre et r√©soudre les fonctions trop longues √âliminer les commentaires inutiles en √©crivant du code auto-explicatif üí° Citation de la semaine ‚ÄúLe code est lu beaucoup plus souvent qu‚Äôil n‚Äôest √©crit. Facilitez la lecture, pas l‚Äô√©criture.‚Äù">
    <meta property="og:locale" content="fr_ca">
    <meta property="og:type" content="article">
    <meta property="article:section" content="D√©veloppement d&#39;applications pour entreprise">
    <meta itemprop="name" content="Rubrique  - Semaine 2 :: D√©veloppement d&#39;applications pour entreprises">
    <meta itemprop="description" content="Noms Significatifs et Fonctions Claires üìã Objectifs de cette semaine Apprendre √† :
Identifier et corriger les noms non significatifs Reconna√Ætre et r√©soudre les fonctions trop longues √âliminer les commentaires inutiles en √©crivant du code auto-explicatif üí° Citation de la semaine ‚ÄúLe code est lu beaucoup plus souvent qu‚Äôil n‚Äôest √©crit. Facilitez la lecture, pas l‚Äô√©criture.‚Äù">
    <meta itemprop="wordCount" content="3690">
    <title>Rubrique  - Semaine 2 :: D√©veloppement d&#39;applications pour entreprises</title>
    <link href="/420-413/images/favicon.png?1771852850" rel="icon" type="image/png">
    <link href="/420-413/css/auto-complete/auto-complete.min.css?1771852850" rel="stylesheet">
    <script src="/420-413/js/auto-complete/auto-complete.min.js?1771852850" defer></script>
    <script src="/420-413/js/search-lunr.js?1771852850" defer></script>
    <script src="/420-413/js/search.js?1771852850" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/420-413/searchindex.en.js?1771852850";
    </script>
    <script src="/420-413/js/lunr/lunr.min.js?1771852850" defer></script>
    <script src="/420-413/js/lunr/lunr.stemmer.support.min.js?1771852850" defer></script>
    <script src="/420-413/js/lunr/lunr.multi.min.js?1771852850" defer></script>
    <script src="/420-413/js/lunr/lunr.fr.min.js?1771852850" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['fr'];
    </script>
    <link href="/420-413/fonts/fontawesome/css/all.min.css?1771852850" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/420-413/fonts/fontawesome/css/all.min.css?1771852850" rel="stylesheet"></noscript>
    <link href="/420-413/css/perfect-scrollbar/perfect-scrollbar.min.css?1771852850" rel="stylesheet">
    <link href="/420-413/css/theme.css?1771852850" rel="stylesheet">
    <link href="/420-413/css/format-html.css?1771852850" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = ``;
      window.relearn.path='\/rubrique\/index.html';
      window.relearn.relBasePath='..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313\/420-413';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn', 'relearn-auto', 'zen-light', 'zen-dark', 'neon' ];
      window.relearn.customvariantprefix = "my-custom-";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.localStorage.getItem(window.relearn.absBaseUri + "/variant") ?? "";
        if( !variant ||
            (!variant.startsWith(window.relearn.customvariantprefix) && !window.relearn.themevariants.includes(variant)) ||
            (variant.startsWith(window.relearn.customvariantprefix) && !window.localStorage.getItem(window.relearn.absBaseUri + "/variantstylesheet-" + variant)) ){
          variant = window.relearn.themevariants[0];
          window.localStorage.setItem(window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script><style>
:root {
    --MENU-WIDTH-S: 14.375rem;
    --MENU-WIDTH-M: 14.375rem;
    --MENU-WIDTH-L: 16rem;
}
</style>
  </head>
  <body class="mobile-support html" data-origin="/420-413/rubrique/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar" class="default-animation">
        <div class="topbar-wrapper default-animation">
          <div class="topbar-sidebar-divider default-animation"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar default-animation" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-table-list"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li><a href="#noms-significatifs-et-fonctions-claires">Noms Significatifs et Fonctions Claires</a></li>
    <li><a href="#-objectifs-de-cette-semaine">üìã Objectifs de cette semaine</a></li>
    <li><a href="#-citation-de-la-semaine">üí° Citation de la semaine</a></li>
    <li><a href="#-code-smell-1--noms-non-significatifs">üî¥ Code Smell #1 : Noms Non Significatifs</a>
      <ul>
        <li><a href="#quest-ce-quun-nom-non-significatif-">Qu&rsquo;est-ce qu&rsquo;un nom non significatif ?</a></li>
        <li><a href="#-exemple-de-code-probl√©matique">‚ùå Exemple de Code Probl√©matique</a></li>
        <li><a href="#-probl√®mes-identifi√©s">ü§î Probl√®mes identifi√©s</a></li>
        <li><a href="#-code-corrig√©-version-clean-code">‚úÖ Code Corrig√© (Version Clean Code)</a></li>
        <li><a href="#-comparaison-avantapr√®s">üìä Comparaison Avant/Apr√®s</a></li>
        <li><a href="#-exercice-pratique-1">üîç Exercice Pratique #1</a></li>
      </ul>
    </li>
    <li><a href="#-code-smell-2--fonctions-trop-longues">üî¥ Code Smell #2 : Fonctions Trop Longues</a>
      <ul>
        <li><a href="#quest-ce-quune-fonction-trop-longue-">Qu&rsquo;est-ce qu&rsquo;une fonction trop longue ?</a></li>
        <li><a href="#-exemple-de-code-probl√©matique-1">‚ùå Exemple de Code Probl√©matique</a></li>
        <li><a href="#-probl√®mes-identifi√©s-1">ü§î Probl√®mes identifi√©s</a></li>
        <li><a href="#-code-corrig√©-version-clean-code-1">‚úÖ Code Corrig√© (Version Clean Code)</a></li>
        <li><a href="#-comparaison-avantapr√®s-1">üìä Comparaison Avant/Apr√®s</a></li>
        <li><a href="#-r√®gles-pour-les-fonctions-propres">üéØ R√®gles pour les Fonctions Propres</a></li>
        <li><a href="#-exercice-pratique-2">üîç Exercice Pratique #2</a></li>
      </ul>
    </li>
    <li><a href="#-code-smell-3--commentaires-inutiles-ou-mensongers">üî¥ Code Smell #3 : Commentaires Inutiles ou Mensongers</a>
      <ul>
        <li><a href="#quest-ce-quun-commentaire-inutile-">Qu&rsquo;est-ce qu&rsquo;un commentaire inutile ?</a></li>
        <li><a href="#-exemple-de-code-probl√©matique-2">‚ùå Exemple de Code Probl√©matique</a></li>
        <li><a href="#-probl√®mes-identifi√©s-2">ü§î Probl√®mes identifi√©s</a></li>
        <li><a href="#-code-corrig√©-version-clean-code-2">‚úÖ Code Corrig√© (Version Clean Code)</a></li>
        <li><a href="#-quand-les-commentaires-sont-utiles">üéØ Quand les Commentaires SONT Utiles</a></li>
        <li><a href="#-guide-de-d√©cision--commentaire-ou-refactoring-">üìä Guide de D√©cision : Commentaire ou Refactoring ?</a></li>
        <li><a href="#-exercice-pratique-3">üîç Exercice Pratique #3</a></li>
      </ul>
    </li>
    <li><a href="#-r√©sum√©-de-la-semaine">üìù R√©sum√© de la Semaine</a>
      <ul>
        <li><a href="#les-3-code-smells-√©tudi√©s">Les 3 Code Smells √âtudi√©s</a></li>
        <li><a href="#citations-√†-retenir">Citations √† Retenir</a></li>
        <li><a href="#checklist-avant-de-commiter-du-code">Checklist Avant de Commiter du Code</a></li>
      </ul>
    </li>
    <li><a href="#-d√©fi-de-la-semaine">üéØ D√©fi de la Semaine</a></li>
    <li><a href="#-aper√ßu-semaine-prochaine">üîú Aper√ßu Semaine Prochaine</a></li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/420-413/index.html"><span itemprop="name">D√©veloppement d&#39;applications pour entreprise</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Rubrique  - Semaine 2</span><meta itemprop="position" content="2"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/420-413/mini_projets/index.html" title="Mini-projets (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next default-animation" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle"><span><i class="fa-fw fas fa-chevron-right"></i></span></span>
            </div>
            <div class="topbar-button topbar-button-more default-animation" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable page" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>

<h1 id="rubrique----semaine-2">Rubrique  - Semaine 2</h1>

<h2 id="noms-significatifs-et-fonctions-claires">Noms Significatifs et Fonctions Claires<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<hr>
<h2 id="-objectifs-de-cette-semaine">üìã Objectifs de cette semaine<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>Apprendre √† :</p>
<ol>
<li>Identifier et corriger les <strong>noms non significatifs</strong></li>
<li>Reconna√Ætre et r√©soudre les <strong>fonctions trop longues</strong></li>
<li>√âliminer les <strong>commentaires inutiles</strong> en √©crivant du code auto-explicatif</li>
</ol>
<hr>
<h2 id="-citation-de-la-semaine">üí° Citation de la semaine<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<blockquote>
<p>&ldquo;Le code est lu beaucoup plus souvent qu&rsquo;il n&rsquo;est √©crit. Facilitez la lecture, pas l&rsquo;√©criture.&rdquo;</p>
<p>‚Äî Robert C. Martin (Uncle Bob), Clean Code</p></blockquote>
<hr>
<h2 id="-code-smell-1--noms-non-significatifs">üî¥ Code Smell #1 : Noms Non Significatifs<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="quest-ce-quun-nom-non-significatif-">Qu&rsquo;est-ce qu&rsquo;un nom non significatif ?<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Un <strong>nom non significatif</strong> est un nom de variable, m√©thode ou classe qui ne r√©v√®le pas clairement son intention ou son r√¥le. Il force le lecteur √† deviner ou √† chercher dans le contexte pour comprendre.</p>
<h3 id="-exemple-de-code-probl√©matique">‚ùå Exemple de Code Probl√©matique<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Que repr√©sentent ces variables ???</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">d</span> <span class="p">=</span> <span class="m">30</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">temp</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">[]&gt;();</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="m">100</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">var</span> <span class="n">x</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="m">3</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="n">x</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">x</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="n">i</span> <span class="p">*</span> <span class="m">2</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="n">x</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="n">i</span> <span class="p">%</span> <span class="n">d</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">temp</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Afficher les r√©sultats</span>
</span></span><span class="line"><span class="cl">        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">t</span> <span class="k">in</span> <span class="n">temp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;{t[0]} - {t[1]} - {t[2]}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="-probl√®mes-identifi√©s">ü§î Probl√®mes identifi√©s<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ol>
<li><strong><code>d</code></strong> : Que signifie &ldquo;d&rdquo; ? Jour ? Distance ? Diviseur ?</li>
<li><strong><code>temp</code></strong> : Temporaire de quoi ? Quelle est sa vraie signification ?</li>
<li><strong><code>x</code></strong> : Qu&rsquo;est-ce que ce tableau repr√©sente ?</li>
<li><strong><code>t</code></strong> : M√™me probl√®me dans la boucle</li>
<li><strong><code>i</code></strong> : Dans ce contexte, que repr√©sente-t-il vraiment ?</li>
<li><strong>Indices magiques</strong> : Que signifient <code>[0]</code>, <code>[1]</code>, <code>[2]</code> ?</li>
</ol>
<h3 id="-code-corrig√©-version-clean-code">‚úÖ Code Corrig√© (Version Clean Code)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Program</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">static</span> <span class="k">void</span> <span class="n">Main</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// VERSION CLEAN CODE</span>
</span></span><span class="line"><span class="cl">        <span class="kd">const</span> <span class="kt">int</span> <span class="n">NombreJoursDansUnMois</span> <span class="p">=</span> <span class="m">30</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">List</span><span class="p">&lt;</span><span class="n">Commande</span><span class="p">&gt;</span> <span class="n">commandesDivisiblesParTrente</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Commande</span><span class="p">&gt;();</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">numeroCommande</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">numeroCommande</span> <span class="p">&lt;</span> <span class="m">100</span><span class="p">;</span> <span class="n">numeroCommande</span><span class="p">++)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="kt">var</span> <span class="n">commande</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Commande</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">Numero</span> <span class="p">=</span> <span class="n">numeroCommande</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">MontantDouble</span> <span class="p">=</span> <span class="n">numeroCommande</span> <span class="p">*</span> <span class="m">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">ResteModulo</span> <span class="p">=</span> <span class="n">numeroCommande</span> <span class="p">%</span> <span class="n">NombreJoursDansUnMois</span>
</span></span><span class="line"><span class="cl">            <span class="p">};</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">EstDivisibleParTrente</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">commandesDivisiblesParTrente</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">commande</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">AfficherCommandes</span><span class="p">(</span><span class="n">commandesDivisiblesParTrente</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">static</span> <span class="k">void</span> <span class="n">AfficherCommandes</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Commande</span><span class="p">&gt;</span> <span class="n">commandes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">commande</span> <span class="k">in</span> <span class="n">commandes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">ObtenirDescription</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">Commande</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">Numero</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">MontantDouble</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">ResteModulo</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">EstDivisibleParTrente</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ResteModulo</span> <span class="p">==</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">string</span> <span class="n">ObtenirDescription</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="s">$&#34;Commande #{Numero} - Montant: {MontantDouble} - Reste: {ResteModulo}&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="-comparaison-avantapr√®s">üìä Comparaison Avant/Apr√®s<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<table>
  <thead>
      <tr>
          <th>Avant (üòû Mauvais)</th>
          <th>Apr√®s (‚úÖ Bon)</th>
          <th>Am√©lioration</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>d</code></td>
          <td><code>nombreDeJoursDansUnMois</code></td>
          <td>Intention claire</td>
      </tr>
      <tr>
          <td><code>temp</code></td>
          <td><code>commandesDivisiblesParTrente</code></td>
          <td>But explicite</td>
      </tr>
      <tr>
          <td><code>x</code></td>
          <td><code>commande</code> (objet Commande)</td>
          <td>Type et r√¥le clairs</td>
      </tr>
      <tr>
          <td><code>x[0]</code>, <code>x[1]</code>, <code>x[2]</code></td>
          <td><code>commande.Numero</code>, <code>commande.MontantDouble</code></td>
          <td>Propri√©t√©s nomm√©es</td>
      </tr>
      <tr>
          <td><code>i</code></td>
          <td><code>numeroCommande</code></td>
          <td>Contexte pr√©cis</td>
      </tr>
      <tr>
          <td><code>t</code></td>
          <td><code>commande</code></td>
          <td>Nom significatif</td>
      </tr>
  </tbody>
</table>
<h3 id="-exercice-pratique-1">üîç Exercice Pratique #1<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Corrigez ce code :</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">Process</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="kt">int</span> <span class="n">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">r</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="n">a</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;=</span> <span class="n">b</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">r</span> <span class="p">+=</span> <span class="n">i</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">r</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<p><strong>Solution :</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">AfficherSommeNombresPairs</span><span class="p">(</span><span class="kt">int</span> <span class="n">nombreDebut</span><span class="p">,</span> <span class="kt">int</span> <span class="n">nombreFin</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">sommePairs</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">nombre</span> <span class="p">=</span> <span class="n">nombreDebut</span><span class="p">;</span> <span class="n">nombre</span> <span class="p">&lt;=</span> <span class="n">nombreFin</span><span class="p">;</span> <span class="n">nombre</span><span class="p">++)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">NombreEstPair</span><span class="p">(</span><span class="n">nombre</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">sommePairs</span> <span class="p">+=</span> <span class="n">nombre</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Somme des nombres pairs : {sommePairs}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="kt">bool</span> <span class="n">NombreEstPair</span><span class="p">(</span><span class="kt">int</span> <span class="n">nombre</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">nombre</span> <span class="p">%</span> <span class="m">2</span> <span class="p">==</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<hr>
<h2 id="-code-smell-2--fonctions-trop-longues">üî¥ Code Smell #2 : Fonctions Trop Longues<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="quest-ce-quune-fonction-trop-longue-">Qu&rsquo;est-ce qu&rsquo;une fonction trop longue ?<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Une fonction qui fait <strong>trop de choses</strong>, contient <strong>trop de lignes</strong> de code, ou a <strong>trop de niveaux d&rsquo;indentation</strong>. R√®gle g√©n√©rale : une fonction devrait tenir sur un √©cran sans d√©filement.</p>
<blockquote>
<p><strong>R√®gle d&rsquo;or</strong> : Une fonction = Une responsabilit√©</p></blockquote>
<h3 id="-exemple-de-code-probl√©matique-1">‚ùå Exemple de Code Probl√©matique<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">GestionnaireCommandes</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">TraiterCommande</span><span class="p">(</span><span class="kt">int</span> <span class="n">idCommande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Cette fonction fait BEAUCOUP TROP de choses !</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// 1. R√©cup√©ration des donn√©es</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">commande</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Commande</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnection</span><span class="p">(</span><span class="s">&#34;connectionString&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">connection</span><span class="p">.</span><span class="n">Open</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="kt">var</span> <span class="n">cmd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlCommand</span><span class="p">(</span><span class="s">$&#34;SELECT * FROM Commandes WHERE Id = {idCommande}&#34;</span><span class="p">,</span> <span class="n">connection</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="kt">var</span> <span class="n">reader</span> <span class="p">=</span> <span class="n">cmd</span><span class="p">.</span><span class="n">ExecuteReader</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">reader</span><span class="p">.</span><span class="n">Read</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">commande</span><span class="p">.</span><span class="n">Id</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">reader</span><span class="p">[</span><span class="s">&#34;Id&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                <span class="n">commande</span><span class="p">.</span><span class="n">ClientId</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">reader</span><span class="p">[</span><span class="s">&#34;ClientId&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                <span class="n">commande</span><span class="p">.</span><span class="n">MontantTotal</span> <span class="p">=</span> <span class="p">(</span><span class="kt">decimal</span><span class="p">)</span><span class="n">reader</span><span class="p">[</span><span class="s">&#34;MontantTotal&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                <span class="n">commande</span><span class="p">.</span><span class="n">DateCommande</span> <span class="p">=</span> <span class="p">(</span><span class="n">DateTime</span><span class="p">)</span><span class="n">reader</span><span class="p">[</span><span class="s">&#34;DateCommande&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// 2. Validation</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">MontantTotal</span> <span class="p">&lt;=</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Erreur: Montant invalide&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">DateCommande</span> <span class="p">&gt;</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Erreur: Date future&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// 3. Calcul des taxes</span>
</span></span><span class="line"><span class="cl">        <span class="kt">decimal</span> <span class="n">tps</span> <span class="p">=</span> <span class="n">commande</span><span class="p">.</span><span class="n">MontantTotal</span> <span class="p">*</span> <span class="m">0.05</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">decimal</span> <span class="n">tvq</span> <span class="p">=</span> <span class="n">commande</span><span class="p">.</span><span class="n">MontantTotal</span> <span class="p">*</span> <span class="m">0.09975</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">decimal</span> <span class="n">total</span> <span class="p">=</span> <span class="n">commande</span><span class="p">.</span><span class="n">MontantTotal</span> <span class="p">+</span> <span class="n">tps</span> <span class="p">+</span> <span class="n">tvq</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// 4. V√©rification du client</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Client</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnection</span><span class="p">(</span><span class="s">&#34;connectionString&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">connection</span><span class="p">.</span><span class="n">Open</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="kt">var</span> <span class="n">cmd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlCommand</span><span class="p">(</span><span class="s">$&#34;SELECT * FROM Clients WHERE Id = {commande.ClientId}&#34;</span><span class="p">,</span> <span class="n">connection</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="kt">var</span> <span class="n">reader</span> <span class="p">=</span> <span class="n">cmd</span><span class="p">.</span><span class="n">ExecuteReader</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">reader</span><span class="p">.</span><span class="n">Read</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">client</span><span class="p">.</span><span class="n">Nom</span> <span class="p">=</span> <span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="n">reader</span><span class="p">[</span><span class="s">&#34;Nom&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                <span class="n">client</span><span class="p">.</span><span class="n">Email</span> <span class="p">=</span> <span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="n">reader</span><span class="p">[</span><span class="s">&#34;Email&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">                <span class="n">client</span><span class="p">.</span><span class="n">Actif</span> <span class="p">=</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span><span class="n">reader</span><span class="p">[</span><span class="s">&#34;Actif&#34;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(!</span><span class="n">client</span><span class="p">.</span><span class="n">Actif</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">&#34;Erreur: Client inactif&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// 5. Application de rabais</span>
</span></span><span class="line"><span class="cl">        <span class="kt">decimal</span> <span class="n">rabais</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">MontantTotal</span> <span class="p">&gt;</span> <span class="m">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">rabais</span> <span class="p">=</span> <span class="n">total</span> <span class="p">*</span> <span class="m">0.10</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">MontantTotal</span> <span class="p">&gt;</span> <span class="m">500</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">rabais</span> <span class="p">=</span> <span class="n">total</span> <span class="p">*</span> <span class="m">0.05</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">total</span> <span class="p">-=</span> <span class="n">rabais</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// 6. Enregistrement de la facture</span>
</span></span><span class="line"><span class="cl">        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnection</span><span class="p">(</span><span class="s">&#34;connectionString&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">connection</span><span class="p">.</span><span class="n">Open</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="kt">var</span> <span class="n">cmd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlCommand</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="s">$&#34;INSERT INTO Factures (CommandeId, MontantHT, TPS, TVQ, Rabais, Total) &#34;</span> <span class="p">+</span>
</span></span><span class="line"><span class="cl">                <span class="s">$&#34;VALUES ({commande.Id}, {commande.MontantTotal}, {tps}, {tvq}, {rabais}, {total})&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="n">connection</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">cmd</span><span class="p">.</span><span class="n">ExecuteNonQuery</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// 7. Envoi d&#39;email</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">smtp</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SmtpClient</span><span class="p">(</span><span class="s">&#34;smtp.server.com&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="k">new</span> <span class="n">MailMessage</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">message</span><span class="p">.</span><span class="n">To</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Email</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">message</span><span class="p">.</span><span class="n">Subject</span> <span class="p">=</span> <span class="s">&#34;Facture&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">message</span><span class="p">.</span><span class="n">Body</span> <span class="p">=</span> <span class="s">$&#34;Votre facture de {total:C} est pr√™te&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">smtp</span><span class="p">.</span><span class="n">Send</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// 8. Logging</span>
</span></span><span class="line"><span class="cl">        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">$&#34;Commande {idCommande} trait√©e avec succ√®s&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">File</span><span class="p">.</span><span class="n">AppendAllText</span><span class="p">(</span><span class="s">&#34;log.txt&#34;</span><span class="p">,</span> <span class="s">$&#34;{DateTime.Now}: Commande {idCommande} OK\n&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="-probl√®mes-identifi√©s-1">ü§î Probl√®mes identifi√©s<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ol>
<li><strong>91 lignes</strong> dans une seule m√©thode !</li>
<li><strong>8 responsabilit√©s diff√©rentes</strong> dans une fonction</li>
<li><strong>Violation du principe SRP</strong> (Single Responsibility Principle)</li>
<li><strong>Difficile √† tester</strong> : comment tester juste une partie ?</li>
<li><strong>Difficile √† maintenir</strong> : modifier une partie risque de casser le reste</li>
<li><strong>Code dupliqu√©</strong> : connexion DB r√©p√©t√©e 3 fois</li>
<li><strong>M√©lange de niveaux d&rsquo;abstraction</strong> : d√©tails DB + logique m√©tier</li>
</ol>
<h3 id="-code-corrig√©-version-clean-code-1">‚úÖ Code Corrig√© (Version Clean Code)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">GestionnaireCommandes</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">ICommandeRepository</span> <span class="n">_commandeRepository</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">IClientRepository</span> <span class="n">_clientRepository</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">IFactureRepository</span> <span class="n">_factureRepository</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">ICalculateurTaxes</span> <span class="n">_calculateurTaxes</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">ICalculateurRabais</span> <span class="n">_calculateurRabais</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">IServiceEmail</span> <span class="n">_serviceEmail</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">readonly</span> <span class="n">ILogger</span> <span class="n">_logger</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">GestionnaireCommandes</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">ICommandeRepository</span> <span class="n">commandeRepository</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">IClientRepository</span> <span class="n">clientRepository</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">IFactureRepository</span> <span class="n">factureRepository</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">ICalculateurTaxes</span> <span class="n">calculateurTaxes</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">ICalculateurRabais</span> <span class="n">calculateurRabais</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">IServiceEmail</span> <span class="n">serviceEmail</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">ILogger</span> <span class="n">logger</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">_commandeRepository</span> <span class="p">=</span> <span class="n">commandeRepository</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_clientRepository</span> <span class="p">=</span> <span class="n">clientRepository</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_factureRepository</span> <span class="p">=</span> <span class="n">factureRepository</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_calculateurTaxes</span> <span class="p">=</span> <span class="n">calculateurTaxes</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_calculateurRabais</span> <span class="p">=</span> <span class="n">calculateurRabais</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_serviceEmail</span> <span class="p">=</span> <span class="n">serviceEmail</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">_logger</span> <span class="p">=</span> <span class="n">logger</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// M√âTHODE PRINCIPALE - Claire et concise</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">TraiterCommande</span><span class="p">(</span><span class="kt">int</span> <span class="n">idCommande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">commande</span> <span class="p">=</span> <span class="n">RecupererCommande</span><span class="p">(</span><span class="n">idCommande</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">ValiderCommande</span><span class="p">(</span><span class="n">commande</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">RecupererClient</span><span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">ClientId</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">ValiderClient</span><span class="p">(</span><span class="n">client</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">facture</span> <span class="p">=</span> <span class="n">CreerFacture</span><span class="p">(</span><span class="n">commande</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">EnregistrerFacture</span><span class="p">(</span><span class="n">facture</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">EnvoyerEmailConfirmation</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">facture</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">LoggerTraitement</span><span class="p">(</span><span class="n">idCommande</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// M√âTHODES PRIV√âES - Une responsabilit√© chacune</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Commande</span> <span class="n">RecupererCommande</span><span class="p">(</span><span class="kt">int</span> <span class="n">idCommande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">commande</span> <span class="p">=</span> <span class="n">_commandeRepository</span><span class="p">.</span><span class="n">ObtenirParId</span><span class="p">(</span><span class="n">idCommande</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">commande</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">CommandeIntrouvableException</span><span class="p">(</span><span class="s">$&#34;Commande {idCommande} introuvable&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">commande</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">void</span> <span class="n">ValiderCommande</span><span class="p">(</span><span class="n">Commande</span> <span class="n">commande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">MontantTotal</span> <span class="p">&lt;=</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">CommandeInvalideException</span><span class="p">(</span><span class="s">&#34;Le montant doit √™tre positif&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">DateCommande</span> <span class="p">&gt;</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">CommandeInvalideException</span><span class="p">(</span><span class="s">&#34;La date ne peut √™tre future&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Client</span> <span class="n">RecupererClient</span><span class="p">(</span><span class="kt">int</span> <span class="n">clientId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">_clientRepository</span><span class="p">.</span><span class="n">ObtenirParId</span><span class="p">(</span><span class="n">clientId</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">client</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">ClientIntrouvableException</span><span class="p">(</span><span class="s">$&#34;Client {clientId} introuvable&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">void</span> <span class="n">ValiderClient</span><span class="p">(</span><span class="n">Client</span> <span class="n">client</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(!</span><span class="n">client</span><span class="p">.</span><span class="n">Actif</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">throw</span> <span class="k">new</span> <span class="n">ClientInactifException</span><span class="p">(</span><span class="s">$&#34;Le client {client.Nom} est inactif&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="n">Facture</span> <span class="n">CreerFacture</span><span class="p">(</span><span class="n">Commande</span> <span class="n">commande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">montantHT</span> <span class="p">=</span> <span class="n">commande</span><span class="p">.</span><span class="n">MontantTotal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">taxes</span> <span class="p">=</span> <span class="n">_calculateurTaxes</span><span class="p">.</span><span class="n">CalculerTaxes</span><span class="p">(</span><span class="n">montantHT</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">montantAvecTaxes</span> <span class="p">=</span> <span class="n">montantHT</span> <span class="p">+</span> <span class="n">taxes</span><span class="p">.</span><span class="n">TPS</span> <span class="p">+</span> <span class="n">taxes</span><span class="p">.</span><span class="n">TVQ</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">rabais</span> <span class="p">=</span> <span class="n">_calculateurRabais</span><span class="p">.</span><span class="n">CalculerRabais</span><span class="p">(</span><span class="n">montantAvecTaxes</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">montantFinal</span> <span class="p">=</span> <span class="n">montantAvecTaxes</span> <span class="p">-</span> <span class="n">rabais</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">new</span> <span class="n">Facture</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">CommandeId</span> <span class="p">=</span> <span class="n">commande</span><span class="p">.</span><span class="n">Id</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">MontantHorsTaxes</span> <span class="p">=</span> <span class="n">montantHT</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">TPS</span> <span class="p">=</span> <span class="n">taxes</span><span class="p">.</span><span class="n">TPS</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">TVQ</span> <span class="p">=</span> <span class="n">taxes</span><span class="p">.</span><span class="n">TVQ</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">Rabais</span> <span class="p">=</span> <span class="n">rabais</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">MontantTotal</span> <span class="p">=</span> <span class="n">montantFinal</span>
</span></span><span class="line"><span class="cl">        <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">void</span> <span class="n">EnregistrerFacture</span><span class="p">(</span><span class="n">Facture</span> <span class="n">facture</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">_factureRepository</span><span class="p">.</span><span class="n">Enregistrer</span><span class="p">(</span><span class="n">facture</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">void</span> <span class="n">EnvoyerEmailConfirmation</span><span class="p">(</span><span class="n">Client</span> <span class="n">client</span><span class="p">,</span> <span class="n">Facture</span> <span class="n">facture</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">contenuEmail</span> <span class="p">=</span> <span class="k">new</span> <span class="n">EmailFacture</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Destinataire</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="n">Email</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">NomClient</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="n">Nom</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">MontantTotal</span> <span class="p">=</span> <span class="n">facture</span><span class="p">.</span><span class="n">MontantTotal</span>
</span></span><span class="line"><span class="cl">        <span class="p">};</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">_serviceEmail</span><span class="p">.</span><span class="n">EnvoyerEmailFacture</span><span class="p">(</span><span class="n">contenuEmail</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="k">void</span> <span class="n">LoggerTraitement</span><span class="p">(</span><span class="kt">int</span> <span class="n">idCommande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">_logger</span><span class="p">.</span><span class="n">LogInformation</span><span class="p">(</span><span class="s">$&#34;Commande {idCommande} trait√©e avec succ√®s&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="c1">// CLASSES DE SUPPORT (extraites)</span>
</span></span><span class="line"><span class="cl"><span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">CalculateurTaxes</span> <span class="p">:</span> <span class="n">ICalculateurTaxes</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">TauxTPS</span> <span class="p">=</span> <span class="m">0.05</span><span class="n">m</span><span class="p">;</span>      <span class="c1">// Taxe f√©d√©rale (5%)</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">TauxTVQ</span> <span class="p">=</span> <span class="m">0.09975</span><span class="n">m</span><span class="p">;</span>   <span class="c1">// Taxe provinciale Qu√©bec (9.975%)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">TaxesCalculees</span> <span class="n">CalculerTaxes</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">montantHorsTaxes</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">new</span> <span class="n">TaxesCalculees</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">TPS</span> <span class="p">=</span> <span class="n">montantHorsTaxes</span> <span class="p">*</span> <span class="n">TauxTPS</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">TVQ</span> <span class="p">=</span> <span class="n">montantHorsTaxes</span> <span class="p">*</span> <span class="n">TauxTVQ</span>
</span></span><span class="line"><span class="cl">        <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">CalculateurRabais</span> <span class="p">:</span> <span class="n">ICalculateurRabais</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">SeuilRabaisEleve</span> <span class="p">=</span> <span class="m">1000</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">SeuilRabaisMoyen</span> <span class="p">=</span> <span class="m">500</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">TauxRabaisEleve</span> <span class="p">=</span> <span class="m">0.10</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">TauxRabaisMoyen</span> <span class="p">=</span> <span class="m">0.05</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">decimal</span> <span class="n">CalculerRabais</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">montant</span> <span class="p">&gt;</span> <span class="n">SeuilRabaisEleve</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">montant</span> <span class="p">*</span> <span class="n">TauxRabaisEleve</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">montant</span> <span class="p">&gt;</span> <span class="n">SeuilRabaisMoyen</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="n">montant</span> <span class="p">*</span> <span class="n">TauxRabaisMoyen</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="-comparaison-avantapr√®s-1">üìä Comparaison Avant/Apr√®s<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<table>
  <thead>
      <tr>
          <th>Aspect</th>
          <th>Avant (üòû)</th>
          <th>Apr√®s (‚úÖ)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Lignes par m√©thode</strong></td>
          <td>91 lignes</td>
          <td>5-15 lignes max</td>
      </tr>
      <tr>
          <td><strong>Responsabilit√©s</strong></td>
          <td>8 dans une m√©thode</td>
          <td>1 par m√©thode</td>
      </tr>
      <tr>
          <td><strong>Testabilit√©</strong></td>
          <td>Tr√®s difficile</td>
          <td>Facile (chaque partie)</td>
      </tr>
      <tr>
          <td><strong>Lisibilit√©</strong></td>
          <td>N√©cessite d√©filement</td>
          <td>Chaque m√©thode visible d&rsquo;un coup</td>
      </tr>
      <tr>
          <td><strong>Maintenance</strong></td>
          <td>Risqu√©</td>
          <td>S√ªr et cibl√©</td>
      </tr>
      <tr>
          <td><strong>R√©utilisabilit√©</strong></td>
          <td>Aucune</td>
          <td>Chaque m√©thode r√©utilisable</td>
      </tr>
  </tbody>
</table>
<h3 id="-r√®gles-pour-les-fonctions-propres">üéØ R√®gles pour les Fonctions Propres<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<h4 id="-principes-√†-suivre-">‚úÖ Principes √† suivre :<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<ol>
<li><strong>Une fonction = Une responsabilit√©</strong></li>
</ol>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - Fait une seule chose</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">decimal</span> <span class="n">CalculerPrixAvecTaxes</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">prixHT</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">prixHT</span> <span class="p">*</span> <span class="m">1.14975</span><span class="n">m</span><span class="p">;</span> <span class="c1">// TPS + TVQ du Qu√©bec</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ùå MAUVAIS - Fait plusieurs choses</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">decimal</span> <span class="n">CalculerEtEnregistrerPrixAvecTaxes</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">prixHT</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">prixTTC</span> <span class="p">=</span> <span class="n">prixHT</span> <span class="p">*</span> <span class="m">1.14975</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Enregistrement en DB</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Envoi d&#39;email</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Logging</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">prixTTC</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<ol start="2">
<li><strong>Petite taille</strong> : 5-20 lignes id√©alement</li>
</ol>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - Court et clair</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">bool</span> <span class="n">UtilisateurEstEligibleAuRabais</span><span class="p">(</span><span class="n">Utilisateur</span> <span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">user</span><span class="p">.</span><span class="n">EstMembre</span> 
</span></span><span class="line"><span class="cl">        <span class="p">&amp;&amp;</span> <span class="n">user</span><span class="p">.</span><span class="n">AncienneteEnMois</span> <span class="p">&gt;=</span> <span class="m">6</span> 
</span></span><span class="line"><span class="cl">        <span class="p">&amp;&amp;</span> <span class="n">user</span><span class="p">.</span><span class="n">MontantAchatsTotal</span> <span class="p">&gt;</span> <span class="m">1000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<ol start="3">
<li><strong>Un seul niveau d&rsquo;abstraction</strong></li>
</ol>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - M√™me niveau d&#39;abstraction</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">TraiterInscription</span><span class="p">(</span><span class="n">Utilisateur</span> <span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">ValiderDonneesUtilisateur</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">EnregistrerUtilisateur</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">EnvoyerEmailBienvenue</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ùå MAUVAIS - Niveaux d&#39;abstraction m√©lang√©s</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">TraiterInscription</span><span class="p">(</span><span class="n">Utilisateur</span> <span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Haut niveau</span>
</span></span><span class="line"><span class="cl">    <span class="n">ValiderDonneesUtilisateur</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Bas niveau (d√©tails d&#39;impl√©mentation)</span>
</span></span><span class="line"><span class="cl">    <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">connection</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlConnection</span><span class="p">(</span><span class="s">&#34;...&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">connection</span><span class="p">.</span><span class="n">Open</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">cmd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SqlCommand</span><span class="p">(</span><span class="s">&#34;INSERT...&#34;</span><span class="p">,</span> <span class="n">connection</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">cmd</span><span class="p">.</span><span class="n">ExecuteNonQuery</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Haut niveau</span>
</span></span><span class="line"><span class="cl">    <span class="n">EnvoyerEmailBienvenue</span><span class="p">(</span><span class="n">user</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<ol start="4">
<li><strong>Peu de param√®tres</strong> : 0-3 id√©alement</li>
</ol>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - 2 param√®tres</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">decimal</span> <span class="n">CalculerRemise</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">montant</span><span class="p">,</span> <span class="n">TypeClient</span> <span class="n">typeClient</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ö†Ô∏è ACCEPTABLE - 3 param√®tres</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">CreerCommande</span><span class="p">(</span><span class="kt">int</span> <span class="n">clientId</span><span class="p">,</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Produit</span><span class="p">&gt;</span> <span class="n">produits</span><span class="p">,</span> <span class="n">AdresseLivraison</span> <span class="n">adresse</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ùå MAUVAIS - Trop de param√®tres</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">CreerCommande</span><span class="p">(</span><span class="kt">int</span> <span class="n">clientId</span><span class="p">,</span> <span class="kt">string</span> <span class="n">nom</span><span class="p">,</span> <span class="kt">string</span> <span class="n">prenom</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="kt">string</span> <span class="n">email</span><span class="p">,</span> <span class="kt">string</span> <span class="n">telephone</span><span class="p">,</span> <span class="kt">string</span> <span class="n">rue</span><span class="p">,</span> <span class="kt">string</span> <span class="n">ville</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="kt">string</span> <span class="n">codePostal</span><span class="p">,</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Produit</span><span class="p">&gt;</span> <span class="n">produits</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Utilisez plut√¥t un objet</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ MIEUX - Objet de param√®tres</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">CreerCommande</span><span class="p">(</span><span class="n">InformationsCommande</span> <span class="n">infos</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ...</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<ol start="5">
<li><strong>Pas d&rsquo;effets de bord</strong></li>
</ol>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚ùå MAUVAIS - Effet de bord cach√©</span>
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="kt">int</span> <span class="n">compteur</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>  <span class="c1">// Variable de classe</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">bool</span> <span class="n">ValiderUtilisateur</span><span class="p">(</span><span class="n">Utilisateur</span> <span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">compteur</span><span class="p">++;</span>  <span class="c1">// ‚ö†Ô∏è Effet de bord : modifie l&#39;√©tat</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">user</span><span class="p">.</span><span class="n">Email</span> <span class="p">!=</span> <span class="kc">null</span> <span class="p">&amp;&amp;</span> <span class="n">user</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;=</span> <span class="m">18</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - Fonction pure</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">bool</span> <span class="n">ValiderUtilisateur</span><span class="p">(</span><span class="n">Utilisateur</span> <span class="n">user</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">user</span><span class="p">.</span><span class="n">Email</span> <span class="p">!=</span> <span class="kc">null</span> <span class="p">&amp;&amp;</span> <span class="n">user</span><span class="p">.</span><span class="n">Age</span> <span class="p">&gt;=</span> <span class="m">18</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="-exercice-pratique-2">üîç Exercice Pratique #2<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>D√©composez cette fonction :</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">ProcessOrder</span><span class="p">(</span><span class="kt">int</span> <span class="n">orderId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">order</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">Orders</span><span class="p">.</span><span class="n">Find</span><span class="p">(</span><span class="n">orderId</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">order</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">customer</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">Customers</span><span class="p">.</span><span class="n">Find</span><span class="p">(</span><span class="n">order</span><span class="p">.</span><span class="n">CustomerId</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">customer</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">total</span> <span class="p">=</span> <span class="m">0</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">order</span><span class="p">.</span><span class="n">Items</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">total</span> <span class="p">+=</span> <span class="n">item</span><span class="p">.</span><span class="n">Price</span> <span class="p">*</span> <span class="n">item</span><span class="p">.</span><span class="n">Quantity</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">tax</span> <span class="p">=</span> <span class="n">total</span> <span class="p">*</span> <span class="m">0.15</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">finalTotal</span> <span class="p">=</span> <span class="n">total</span> <span class="p">+</span> <span class="n">tax</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">finalTotal</span> <span class="p">&gt;</span> <span class="m">1000</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">finalTotal</span> <span class="p">*=</span> <span class="m">0.9</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">order</span><span class="p">.</span><span class="n">Total</span> <span class="p">=</span> <span class="n">finalTotal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">db</span><span class="p">.</span><span class="n">SaveChanges</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">SendEmail</span><span class="p">(</span><span class="n">customer</span><span class="p">.</span><span class="n">Email</span><span class="p">,</span> <span class="s">$&#34;Your order total: {finalTotal:C}&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<p><strong>Solution :</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">TraiterCommande</span><span class="p">(</span><span class="kt">int</span> <span class="n">idCommande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">commande</span> <span class="p">=</span> <span class="n">RecupererCommande</span><span class="p">(</span><span class="n">idCommande</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">RecupererClient</span><span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">ClientId</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">montantTotal</span> <span class="p">=</span> <span class="n">CalculerMontantTotal</span><span class="p">(</span><span class="n">commande</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">EnregistrerMontantCommande</span><span class="p">(</span><span class="n">commande</span><span class="p">,</span> <span class="n">montantTotal</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="n">EnvoyerEmailConfirmation</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="n">montantTotal</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="n">Commande</span> <span class="n">RecupererCommande</span><span class="p">(</span><span class="kt">int</span> <span class="n">idCommande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">commande</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">Orders</span><span class="p">.</span><span class="n">Find</span><span class="p">(</span><span class="n">idCommande</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">commande</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">throw</span> <span class="k">new</span> <span class="n">CommandeIntrouvableException</span><span class="p">(</span><span class="s">$&#34;Commande {idCommande} introuvable&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">commande</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="n">Client</span> <span class="n">RecupererClient</span><span class="p">(</span><span class="kt">int</span> <span class="n">clientId</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="n">db</span><span class="p">.</span><span class="n">Customers</span><span class="p">.</span><span class="n">Find</span><span class="p">(</span><span class="n">clientId</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">client</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">throw</span> <span class="k">new</span> <span class="n">ClientIntrouvableException</span><span class="p">(</span><span class="s">$&#34;Client {clientId} introuvable&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="kt">decimal</span> <span class="n">CalculerMontantTotal</span><span class="p">(</span><span class="n">Commande</span> <span class="n">commande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">sousTotal</span> <span class="p">=</span> <span class="n">CalculerSousTotal</span><span class="p">(</span><span class="n">commande</span><span class="p">.</span><span class="n">Items</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">montantAvecTaxes</span> <span class="p">=</span> <span class="n">AjouterTaxes</span><span class="p">(</span><span class="n">sousTotal</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">montantFinal</span> <span class="p">=</span> <span class="n">AppliquerRabaisSiEligible</span><span class="p">(</span><span class="n">montantAvecTaxes</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">montantFinal</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="kt">decimal</span> <span class="n">CalculerSousTotal</span><span class="p">(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">Item</span><span class="p">&gt;</span> <span class="n">items</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">items</span><span class="p">.</span><span class="n">Sum</span><span class="p">(</span><span class="n">item</span> <span class="p">=&gt;</span> <span class="n">item</span><span class="p">.</span><span class="n">Price</span> <span class="p">*</span> <span class="n">item</span><span class="p">.</span><span class="n">Quantity</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="kt">decimal</span> <span class="n">AjouterTaxes</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">TauxTaxe</span> <span class="p">=</span> <span class="m">0.15</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">montant</span> <span class="p">*</span> <span class="p">(</span><span class="m">1</span> <span class="p">+</span> <span class="n">TauxTaxe</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="kt">decimal</span> <span class="n">AppliquerRabaisSiEligible</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">SeuilRabais</span> <span class="p">=</span> <span class="m">1000</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">TauxRabais</span> <span class="p">=</span> <span class="m">0.10</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">montant</span> <span class="p">&gt;</span> <span class="n">SeuilRabais</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">montant</span> <span class="p">*</span> <span class="p">(</span><span class="m">1</span> <span class="p">-</span> <span class="n">TauxRabais</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">montant</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">EnregistrerMontantCommande</span><span class="p">(</span><span class="n">Commande</span> <span class="n">commande</span><span class="p">,</span> <span class="kt">decimal</span> <span class="n">montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">commande</span><span class="p">.</span><span class="n">Total</span> <span class="p">=</span> <span class="n">montant</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">db</span><span class="p">.</span><span class="n">SaveChanges</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">private</span> <span class="k">void</span> <span class="n">EnvoyerEmailConfirmation</span><span class="p">(</span><span class="n">Client</span> <span class="n">client</span><span class="p">,</span> <span class="kt">decimal</span> <span class="n">montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kt">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">$&#34;Votre commande : {montant:C}&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="n">SendEmail</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Email</span><span class="p">,</span> <span class="n">message</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<hr>
<h2 id="-code-smell-3--commentaires-inutiles-ou-mensongers">üî¥ Code Smell #3 : Commentaires Inutiles ou Mensongers<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="quest-ce-quun-commentaire-inutile-">Qu&rsquo;est-ce qu&rsquo;un commentaire inutile ?<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Un commentaire qui :</p>
<ul>
<li>D√©crit ce que le code fait d√©j√† clairement</li>
<li>Est obsol√®te ou faux</li>
<li>Compense un code mal √©crit</li>
<li>Pourrait √™tre remplac√© par un bon nom de variable/m√©thode</li>
</ul>
<blockquote>
<p><strong>R√®gle d&rsquo;or</strong> : Le meilleur commentaire est celui que vous n&rsquo;avez pas besoin d&rsquo;√©crire</p></blockquote>
<h3 id="-exemple-de-code-probl√©matique-2">‚ùå Exemple de Code Probl√©matique<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">GestionnaireUtilisateurs</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Cette m√©thode calcule l&#39;√¢ge de l&#39;utilisateur</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">CalculerAge</span><span class="p">(</span><span class="n">DateTime</span> <span class="n">dateNaissance</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Obtenir la date d&#39;aujourd&#39;hui</span>
</span></span><span class="line"><span class="cl">        <span class="n">DateTime</span> <span class="n">aujourd</span><span class="err">&#39;</span><span class="n">hui</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Today</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Calculer l&#39;√¢ge</span>
</span></span><span class="line"><span class="cl">        <span class="kt">int</span> <span class="n">age</span> <span class="p">=</span> <span class="n">aujourd</span><span class="err">&#39;</span><span class="n">hui</span><span class="p">.</span><span class="n">Year</span> <span class="p">-</span> <span class="n">dateNaissance</span><span class="p">.</span><span class="n">Year</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// V√©rifier si l&#39;anniversaire est pass√© cette ann√©e</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">dateNaissance</span><span class="p">.</span><span class="n">Date</span> <span class="p">&gt;</span> <span class="n">aujourd</span><span class="err">&#39;</span><span class="n">hui</span><span class="p">.</span><span class="n">AddYears</span><span class="p">(-</span><span class="n">age</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">age</span><span class="p">--;</span> <span class="c1">// Soustraire 1 si anniversaire pas encore pass√©</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Retourner l&#39;√¢ge</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// TODO: Corriger ce bug (√©crit il y a 2 ans...)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// HACK: Solution temporaire en attendant le refactoring</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// NOTE: Ne fonctionne pas pour les clients VIP</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">decimal</span> <span class="n">CalculerPrix</span><span class="p">(</span><span class="n">Produit</span> <span class="n">p</span><span class="p">,</span> <span class="n">Client</span> <span class="n">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">decimal</span> <span class="n">prix</span> <span class="p">=</span> <span class="n">p</span><span class="p">.</span><span class="n">PrixBase</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Appliquer le rabais</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="n">Type</span> <span class="p">==</span> <span class="s">&#34;VIP&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">prix</span> <span class="p">=</span> <span class="n">prix</span> <span class="p">*</span> <span class="m">0.8</span><span class="n">m</span><span class="p">;</span> <span class="c1">// 20% de rabais</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="n">Type</span> <span class="p">==</span> <span class="s">&#34;Premium&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">prix</span> <span class="p">=</span> <span class="n">prix</span> <span class="p">*</span> <span class="m">0.9</span><span class="n">m</span><span class="p">;</span> <span class="c1">// 10% de rabais</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Sinon, pas de rabais</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">prix</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// SECTION: Validation</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Valide l&#39;email</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">ValiderEmail</span><span class="p">(</span><span class="kt">string</span> <span class="n">email</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// V√©rifier si email est null</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">email</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Retourner faux</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// V√©rifier si email contient @</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(!</span><span class="n">email</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;@&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Retourner faux</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// L&#39;email est valide</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// Retourner vrai</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="cm">/**
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Cette m√©thode envoie un email √† l&#39;utilisateur
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Param√®tres:
</span></span></span><span class="line"><span class="cl"><span class="cm">     *   - destinataire: l&#39;adresse email du destinataire
</span></span></span><span class="line"><span class="cl"><span class="cm">     *   - sujet: le sujet de l&#39;email
</span></span></span><span class="line"><span class="cl"><span class="cm">     *   - corps: le corps du message
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Retour:
</span></span></span><span class="line"><span class="cl"><span class="cm">     *   - bool: true si envoy√©, false sinon
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Auteur: Jean Dupont
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Date: 15/01/2022
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Modifi√© par: Marie Martin
</span></span></span><span class="line"><span class="cl"><span class="cm">     * Date: 03/05/2023
</span></span></span><span class="line"><span class="cl"><span class="cm">     */</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">EnvoyerEmail</span><span class="p">(</span><span class="kt">string</span> <span class="n">destinataire</span><span class="p">,</span> <span class="kt">string</span> <span class="n">sujet</span><span class="p">,</span> <span class="kt">string</span> <span class="n">corps</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Code d&#39;envoi d&#39;email</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// M√©thode obsol√®te - NE PLUS UTILISER</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Utiliser NouvelleMethode() √† la place</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">AncienneMethode</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Cette m√©thode ne devrait plus √™tre utilis√©e</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// mais on la garde pour compatibilit√©</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="-probl√®mes-identifi√©s-2">ü§î Probl√®mes identifi√©s<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ol>
<li><strong>Commentaires redondants</strong> : &ldquo;Cette m√©thode calcule l&rsquo;√¢ge&rdquo; ‚Üí Le nom le dit d√©j√† !</li>
<li><strong>Commentaires √©vidents</strong> : &ldquo;Obtenir la date d&rsquo;aujourd&rsquo;hui&rdquo; ‚Üí Le code est clair</li>
<li><strong>TODO/HACK vieux</strong> : Jamais r√©solus, induisent en erreur</li>
<li><strong>Commentaires qui mentent</strong> : &ldquo;Ne fonctionne pas pour VIP&rdquo; mais le code le g√®re !</li>
<li><strong>Commentaires de s√©paration</strong> : Headers inutiles</li>
<li><strong>Documentation excessive</strong> : Javadoc inutile pour m√©thode simple</li>
<li><strong>Code comment√©</strong> : M√©thode obsol√®te devrait √™tre supprim√©e</li>
<li><strong>Explications du &ldquo;comment&rdquo;</strong> : Au lieu du &ldquo;pourquoi&rdquo;</li>
</ol>
<h3 id="-code-corrig√©-version-clean-code-2">‚úÖ Code Corrig√© (Version Clean Code)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">GestionnaireUtilisateurs</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// M√âTHODE 1 : Calcul d&#39;√¢ge</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Aucun commentaire n√©cessaire - le code parle de lui-m√™me</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">int</span> <span class="n">CalculerAge</span><span class="p">(</span><span class="n">DateTime</span> <span class="n">dateNaissance</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">aujourdHui</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Today</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">age</span> <span class="p">=</span> <span class="n">aujourdHui</span><span class="p">.</span><span class="n">Year</span> <span class="p">-</span> <span class="n">dateNaissance</span><span class="p">.</span><span class="n">Year</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">AnniversairePasEncorePasseCetteAnnee</span><span class="p">(</span><span class="n">dateNaissance</span><span class="p">,</span> <span class="n">aujourdHui</span><span class="p">,</span> <span class="n">age</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">age</span><span class="p">--;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">age</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">bool</span> <span class="n">AnniversairePasEncorePasseCetteAnnee</span><span class="p">(</span><span class="n">DateTime</span> <span class="n">dateNaissance</span><span class="p">,</span> <span class="n">DateTime</span> <span class="n">aujourdHui</span><span class="p">,</span> <span class="kt">int</span> <span class="n">age</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">dateNaissance</span><span class="p">.</span><span class="n">Date</span> <span class="p">&gt;</span> <span class="n">aujourdHui</span><span class="p">.</span><span class="n">AddYears</span><span class="p">(-</span><span class="n">age</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// M√âTHODE 2 : Calcul de prix</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Code auto-document√© avec extraction de m√©thodes</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">decimal</span> <span class="n">CalculerPrix</span><span class="p">(</span><span class="n">Produit</span> <span class="n">produit</span><span class="p">,</span> <span class="n">Client</span> <span class="n">client</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">prixBase</span> <span class="p">=</span> <span class="n">produit</span><span class="p">.</span><span class="n">PrixBase</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kt">var</span> <span class="n">tauxRabais</span> <span class="p">=</span> <span class="n">ObtenirTauxRabais</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Type</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">AppliquerRabais</span><span class="p">(</span><span class="n">prixBase</span><span class="p">,</span> <span class="n">tauxRabais</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">decimal</span> <span class="n">ObtenirTauxRabais</span><span class="p">(</span><span class="n">TypeClient</span> <span class="n">typeClient</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">typeClient</span> <span class="k">switch</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">TypeClient</span><span class="p">.</span><span class="n">VIP</span> <span class="p">=&gt;</span> <span class="m">0.20</span><span class="n">m</span><span class="p">,</span>      <span class="c1">// 20% pour VIP</span>
</span></span><span class="line"><span class="cl">            <span class="n">TypeClient</span><span class="p">.</span><span class="n">Premium</span> <span class="p">=&gt;</span> <span class="m">0.10</span><span class="n">m</span><span class="p">,</span>  <span class="c1">// 10% pour Premium</span>
</span></span><span class="line"><span class="cl">            <span class="n">_</span> <span class="p">=&gt;</span> <span class="m">0</span><span class="n">m</span>                        <span class="c1">// Pas de rabais par d√©faut</span>
</span></span><span class="line"><span class="cl">        <span class="p">};</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">decimal</span> <span class="n">AppliquerRabais</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">prixBase</span><span class="p">,</span> <span class="kt">decimal</span> <span class="n">tauxRabais</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">prixBase</span> <span class="p">*</span> <span class="p">(</span><span class="m">1</span> <span class="p">-</span> <span class="n">tauxRabais</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// M√âTHODE 3 : Validation email</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Nom de m√©thode explicite + extraction de conditions</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">EmailEstValide</span><span class="p">(</span><span class="kt">string</span> <span class="n">email</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">email</span> <span class="p">!=</span> <span class="kc">null</span> <span class="p">&amp;&amp;</span> <span class="n">email</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;@&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// OU version plus robuste</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">EmailEstValide_Version2</span><span class="p">(</span><span class="kt">string</span> <span class="n">email</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">EstVideOuNull</span><span class="p">(</span><span class="n">email</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">ContientArobase</span><span class="p">(</span><span class="n">email</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">ContientPoint</span><span class="p">(</span><span class="n">email</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">bool</span> <span class="n">EstVideOuNull</span><span class="p">(</span><span class="kt">string</span> <span class="n">texte</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrWhiteSpace</span><span class="p">(</span><span class="n">texte</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">bool</span> <span class="n">ContientArobase</span><span class="p">(</span><span class="kt">string</span> <span class="n">email</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">email</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;@&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">bool</span> <span class="n">ContientPoint</span><span class="p">(</span><span class="kt">string</span> <span class="n">email</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">email</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="s">&#34;.&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// M√âTHODE 4 : Envoi email</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Signature claire = documentation suffisante</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">EnvoyerEmail</span><span class="p">(</span><span class="kt">string</span> <span class="n">destinataire</span><span class="p">,</span> <span class="kt">string</span> <span class="n">sujet</span><span class="p">,</span> <span class="kt">string</span> <span class="n">corps</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Code d&#39;envoi</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// M√âTHODE OBSOL√àTE : Marqu√©e avec attribut, pas commentaire</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ==========================================</span>
</span></span><span class="line"><span class="cl"><span class="na">    [Obsolete(&#34;Utilisez NouvelleMethode() √† la place&#34;, error: true)]</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">AncienneMethode</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">throw</span> <span class="k">new</span> <span class="n">NotSupportedException</span><span class="p">(</span><span class="s">&#34;Cette m√©thode est obsol√®te&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">NouvelleMethode</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Nouvelle impl√©mentation</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="-quand-les-commentaires-sont-utiles">üéØ Quand les Commentaires SONT Utiles<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p>Certains commentaires sont pr√©cieux et doivent √™tre gard√©s :</p>
<h4 id="-1-explication-du-pourquoi-pas-du-quoi">‚úÖ 1. Explication du &ldquo;POURQUOI&rdquo; (pas du &ldquo;QUOI&rdquo;)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - Explique une d√©cision non-√©vidente</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">decimal</span> <span class="n">CalculerFraisLivraison</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">montantCommande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Nous offrons la livraison gratuite au-dessus de 50$ pour encourager</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// les achats plus importants et am√©liorer la satisfaction client</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// (d√©cision marketing du 15/01/2024)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">montantCommande</span> <span class="p">&gt;=</span> <span class="m">50</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="m">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="m">5.99</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ùå MAUVAIS - D√©crit ce que le code fait d√©j√†</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">decimal</span> <span class="n">CalculerFraisLivraison</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">montantCommande</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// V√©rifier si le montant est sup√©rieur ou √©gal √† 50</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="n">montantCommande</span> <span class="p">&gt;=</span> <span class="m">50</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="m">0</span><span class="p">;</span> <span class="c1">// Retourner 0</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="m">5.99</span><span class="n">m</span><span class="p">;</span> <span class="c1">// Sinon retourner 5.99</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h4 id="-2-avertissements-sur-les-cons√©quences">‚úÖ 2. Avertissements sur les Cons√©quences<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - Avertit d&#39;un comportement important</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">void</span> <span class="n">SupprimerToutesLesDonnees</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ATTENTION: Cette op√©ration est IRR√âVERSIBLE et supprime</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// toutes les donn√©es de production. √Ä utiliser uniquement</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// dans le cadre de la proc√©dure de r√©initialisation annuelle.</span>
</span></span><span class="line"><span class="cl">    <span class="n">database</span><span class="p">.</span><span class="n">DeleteAll</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h4 id="-3-todo-l√©gitimes-avec-date-et-contexte">‚úÖ 3. TODO L√©gitimes (avec date et contexte)<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - TODO avec contexte et √©ch√©ance</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">ServicePaiement</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// TODO (2024-02-15): Migrer vers la nouvelle API Stripe v3</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// D√©pendance: Attente de la mise √† jour du SDK</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Responsable: √©quipe-backend@example.com</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">ProcesserPaiement</span><span class="p">(</span><span class="n">CarteBancaire</span> <span class="n">carte</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Utilisation de l&#39;ancienne API (v2)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">StripeV2</span><span class="p">.</span><span class="n">Charge</span><span class="p">(</span><span class="n">carte</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ‚ùå MAUVAIS - TODO vague et sans contexte</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">bool</span> <span class="n">ProcesserPaiement</span><span class="p">(</span><span class="n">CarteBancaire</span> <span class="n">carte</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// TODO: am√©liorer</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">StripeV2</span><span class="p">.</span><span class="n">Charge</span><span class="p">(</span><span class="n">carte</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h4 id="-4-explication-dun-algorithme-complexe">‚úÖ 4. Explication d&rsquo;un Algorithme Complexe<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - Explique un algorithme non-trivial</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">int</span> <span class="n">CalculerJourPaques</span><span class="p">(</span><span class="kt">int</span> <span class="n">annee</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Algorithme de Gauss pour calculer la date de P√¢ques</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Formule math√©matique complexe bas√©e sur les cycles lunaires</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// R√©f√©rence: https://fr.wikipedia.org/wiki/Calcul_de_la_date_de_P√¢ques</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">a</span> <span class="p">=</span> <span class="n">annee</span> <span class="p">%</span> <span class="m">19</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">b</span> <span class="p">=</span> <span class="n">annee</span> <span class="p">/</span> <span class="m">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kt">int</span> <span class="n">c</span> <span class="p">=</span> <span class="n">annee</span> <span class="p">%</span> <span class="m">100</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// ... suite de l&#39;algorithme complexe</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h4 id="-5-exigences-l√©gales-ou-m√©tier">‚úÖ 5. Exigences L√©gales ou M√©tier<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// ‚úÖ BON - R√©f√©rence l√©gale importante</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="kt">decimal</span> <span class="n">CalculerTaxes</span><span class="p">(</span><span class="kt">decimal</span> <span class="n">montant</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Conform√©ment √† la loi C-45 (Qu√©bec), les taux de taxes sont:</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// TPS f√©d√©rale: 5% (depuis 01/01/2008)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// TVQ provinciale: 9.975% (depuis 01/01/2013)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ces taux peuvent changer - voir: revenuquebec.ca</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">TauxTPS</span> <span class="p">=</span> <span class="m">0.05</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kd">const</span> <span class="kt">decimal</span> <span class="n">TauxTVQ</span> <span class="p">=</span> <span class="m">0.09975</span><span class="n">m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">montant</span> <span class="p">*</span> <span class="p">(</span><span class="m">1</span> <span class="p">+</span> <span class="n">TauxTPS</span> <span class="p">+</span> <span class="n">TauxTVQ</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<h3 id="-guide-de-d√©cision--commentaire-ou-refactoring-">üìä Guide de D√©cision : Commentaire ou Refactoring ?<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>Vous voulez √©crire un commentaire ?
‚îÇ
‚îú‚îÄ D√©crit-il ce que le code fait ?
‚îÇ  ‚îî‚îÄ OUI ‚Üí ‚ùå Ne commentez pas, am√©liorez le code
‚îÇ      ‚îî‚îÄ Renommez variables/m√©thodes pour √™tre auto-document√©
‚îÇ
‚îú‚îÄ Explique-t-il POURQUOI (d√©cision m√©tier, contrainte) ?
‚îÇ  ‚îî‚îÄ OUI ‚Üí ‚úÖ Commentaire utile, gardez-le
‚îÇ
‚îú‚îÄ Compense-t-il un code mal √©crit ?
‚îÇ  ‚îî‚îÄ OUI ‚Üí ‚ùå Ne commentez pas, refactorez
‚îÇ
‚îú‚îÄ Contient-il un TODO/FIXME ?
‚îÇ  ‚îú‚îÄ Avec date, contexte et responsable ‚Üí ‚úÖ OK
‚îÇ  ‚îî‚îÄ Vague ou ancien ‚Üí ‚ùå Supprimez ou corrigez
‚îÇ
‚îî‚îÄ Explique-t-il un algorithme complexe ?
   ‚îî‚îÄ OUI ‚Üí ‚úÖ Commentaire utile avec r√©f√©rence</code></pre></div>
<h3 id="-exercice-pratique-3">üîç Exercice Pratique #3<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Nettoyez ce code :</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="c1">// Classe pour g√©rer les utilisateurs</span>
</span></span><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">UserManager</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Constructeur</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="n">UserManager</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Initialiser</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Cette m√©thode v√©rifie si l&#39;utilisateur peut se connecter</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">CanLogin</span><span class="p">(</span><span class="n">User</span> <span class="n">u</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// V√©rifier si l&#39;utilisateur n&#39;est pas null</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">u</span> <span class="p">==</span> <span class="kc">null</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Retourner faux</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// V√©rifier si l&#39;utilisateur est actif</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(!</span><span class="n">u</span><span class="p">.</span><span class="n">IsActive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Retourner faux</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// V√©rifier le mot de passe</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// TODO: ajouter v√©rification 2FA</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="n">u</span><span class="p">.</span><span class="n">Password</span> <span class="p">==</span> <span class="kc">null</span> <span class="p">||</span> <span class="n">u</span><span class="p">.</span><span class="n">Password</span><span class="p">.</span><span class="n">Length</span> <span class="p">&lt;</span> <span class="m">8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span> <span class="c1">// Mot de passe trop court</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// Tout est OK</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">true</span><span class="p">;</span> <span class="c1">// Retourner vrai</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// HACK: Temporaire jusqu&#39;√† refonte</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ne fonctionne pas pour admin</span>
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">DeleteUser</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Code de suppression</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<p><strong>Solution :</strong></p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" class="chroma"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="kd">public</span> <span class="k">class</span> <span class="nc">GestionnaireUtilisateurs</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kd">const</span> <span class="kt">int</span> <span class="n">LongueurMinimaleMotDePasse</span> <span class="p">=</span> <span class="m">8</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="kt">bool</span> <span class="n">UtilisateurPeutSeConnecter</span><span class="p">(</span><span class="n">Utilisateur</span> <span class="n">utilisateur</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">UtilisateurExiste</span><span class="p">(</span><span class="n">utilisateur</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">&amp;&amp;</span> <span class="n">UtilisateurEstActif</span><span class="p">(</span><span class="n">utilisateur</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">&amp;&amp;</span> <span class="n">MotDePasseEstValide</span><span class="p">(</span><span class="n">utilisateur</span><span class="p">.</span><span class="n">MotDePasse</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">bool</span> <span class="n">UtilisateurExiste</span><span class="p">(</span><span class="n">Utilisateur</span> <span class="n">utilisateur</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">utilisateur</span> <span class="p">!=</span> <span class="kc">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">bool</span> <span class="n">UtilisateurEstActif</span><span class="p">(</span><span class="n">Utilisateur</span> <span class="n">utilisateur</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">utilisateur</span><span class="p">.</span><span class="n">EstActif</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">private</span> <span class="kt">bool</span> <span class="n">MotDePasseEstValide</span><span class="p">(</span><span class="kt">string</span> <span class="n">motDePasse</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="p">!</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">motDePasse</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">            <span class="p">&amp;&amp;</span> <span class="n">motDePasse</span><span class="p">.</span><span class="n">Length</span> <span class="p">&gt;=</span> <span class="n">LongueurMinimaleMotDePasse</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// TODO (2024-02-15): Ajouter authentification √† deux facteurs (2FA)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Ticket: SECURITY-123</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Responsable: √©quipe-s√©curit√©@example.com</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kd">public</span> <span class="k">void</span> <span class="n">SupprimerUtilisateur</span><span class="p">(</span><span class="kt">int</span> <span class="n">idUtilisateur</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Impl√©mentation</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
<hr>
<h2 id="-r√©sum√©-de-la-semaine">üìù R√©sum√© de la Semaine<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<h3 id="les-3-code-smells-√©tudi√©s">Les 3 Code Smells √âtudi√©s<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ol>
<li>
<p><strong>Noms Non Significatifs</strong></p>
<ul>
<li>‚ùå Variables d&rsquo;une lettre, abr√©viations obscures</li>
<li>‚úÖ Noms r√©v√©lant l&rsquo;intention, pronon√ßables, cherchables</li>
</ul>
</li>
<li>
<p><strong>Fonctions Trop Longues</strong></p>
<ul>
<li>‚ùå Fonction qui fait tout, 100+ lignes</li>
<li>‚úÖ Petites fonctions (5-20 lignes), une responsabilit√©, un niveau d&rsquo;abstraction</li>
</ul>
</li>
<li>
<p><strong>Commentaires Inutiles</strong></p>
<ul>
<li>‚ùå Commentaires redondants, obsol√®tes, compensant du mauvais code</li>
<li>‚úÖ Code auto-document√©, commentaires expliquant le POURQUOI</li>
</ul>
</li>
</ol>
<h3 id="citations-√†-retenir">Citations √† Retenir<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<blockquote>
<p>&ldquo;Le code propre est simple et direct. Il se lit comme une prose bien √©crite.&rdquo;
‚Äî Grady Booch</p></blockquote>
<blockquote>
<p>&ldquo;Un commentaire mensonger est pire que pas de commentaire du tout.&rdquo;
‚Äî Robert C. Martin</p></blockquote>
<h3 id="checklist-avant-de-commiter-du-code">Checklist Avant de Commiter du Code<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<ul>
<li><input disabled="" type="checkbox"> Mes variables ont des noms significatifs et r√©v√®lent leur intention</li>
<li><input disabled="" type="checkbox"> Mes m√©thodes font UNE SEULE chose</li>
<li><input disabled="" type="checkbox"> Mes m√©thodes ont moins de 20 lignes</li>
<li><input disabled="" type="checkbox"> Mes m√©thodes ont 3 param√®tres ou moins</li>
<li><input disabled="" type="checkbox"> J&rsquo;ai √©limin√© les commentaires qui d√©crivent ce que le code fait</li>
<li><input disabled="" type="checkbox"> Mes commentaires (s&rsquo;il y en a) expliquent le POURQUOI</li>
<li><input disabled="" type="checkbox"> Mon code se lit comme une histoire claire</li>
</ul>
<hr>
<h2 id="-d√©fi-de-la-semaine">üéØ D√©fi de la Semaine<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p><strong>Trouvez dans votre propre code :</strong></p>
<ol>
<li><strong>3 variables</strong> avec des noms non significatifs ‚Üí Renommez-les</li>
<li><strong>1 fonction longue</strong> (&gt;30 lignes) ‚Üí D√©composez-la</li>
<li><strong>5 commentaires inutiles</strong> ‚Üí Supprimez-les en rendant le code auto-document√©</li>
</ol>
<p>Partagez vos avant/apr√®s avec la classe la semaine prochaine !</p>
<hr>
<h2 id="-aper√ßu-semaine-prochaine">üîú Aper√ßu Semaine Prochaine<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h2>
<p>La semaine prochaine, nous aborderons :</p>
<ul>
<li><strong>Code Duplication</strong> (DRY Principle)</li>
<li><strong>Classes trop grandes</strong></li>
<li><strong>Couplage fort vs Couplage faible</strong></li>
</ul>
<hr>
<p><em>&ldquo;Laissez le code plus propre que vous ne l&rsquo;avez trouv√©.&rdquo;</em> ‚Äî R√®gle du Boy Scout</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation"><a id="R-logo" 
   style="display: flex; justify-content: center; align-items: center; text-decoration: none;" 
   href="/420-413/index.html">

    <img src="/420-413/images/favicon.jpg" width="40" height="40" alt="logo" style="margin-right: 8px;">

    <div style="display: flex; flex-direction: column; font-size: 130%; text-align: center;">
        <span>D√©veloppement d'applications pour entreprises</span>
    </div>
</a>

        <search><form action="/420-413/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-fw fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-fw fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks default-animation">
          <ul class="space collapsible-menu">
            <li class="" data-nav-id="/420-413/index.html"><a class="padding" href="/420-413/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols default-animation">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main default-animation">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-id="/420-413/intro/index.html"><a class="padding" href="/420-413/intro/index.html">Intro √† Visual Studio 2022</a></li>
            <li class="" data-nav-id="/420-413/architecture/index.html"><a class="padding" href="/420-413/architecture/index.html">Architecture .NET</a></li>
            <li class="" data-nav-id="/420-413/intro_syntaxe_c_sharp/index.html"><a class="padding" href="/420-413/intro_syntaxe_c_sharp/index.html">Intro et syntaxe du C#</a></li>
            <li class="" data-nav-id="/420-413/variables/index.html"><a class="padding" href="/420-413/variables/index.html">Variables</a></li>
            <li class="" data-nav-id="/420-413/operateurs/index.html"><a class="padding" href="/420-413/operateurs/index.html">Op√©rateurs</a></li>
            <li class="" data-nav-id="/420-413/structures_de_controles/index.html"><a class="padding" href="/420-413/structures_de_controles/index.html">Structures de contr√¥les</a></li>
            <li class="" data-nav-id="/420-413/tableaux_collections/index.html"><a class="padding" href="/420-413/tableaux_collections/index.html">Tableaux et collections</a></li>
            <li class="" data-nav-id="/420-413/methodes/index.html"><a class="padding" href="/420-413/methodes/index.html">Les m√©thodes en c#</a></li>
            <li class="" data-nav-id="/420-413/serie_exos_1/index.html"><a class="padding" href="/420-413/serie_exos_1/index.html">S√©rie d&#39;exercices 1</a></li>
            <li class="" data-nav-id="/420-413/poo/index.html"><a class="padding" href="/420-413/poo/index.html">Programmation orient√©e objet - partie 1</a></li>
            <li class="" data-nav-id="/420-413/poo_2/index.html"><a class="padding" href="/420-413/poo_2/index.html">Programmation orient√©e objet - partie 2</a></li>
            <li class="" data-nav-id="/420-413/poo_exos/index.html"><a class="padding" href="/420-413/poo_exos/index.html">Exercices - POO</a></li>
            <li class="" data-nav-id="/420-413/agile-_scrum/index.html"><a class="padding" href="/420-413/agile-_scrum/index.html">Agile - Scrum</a></li>
            <li class="" data-nav-id="/420-413/linq/index.html"><a class="padding" href="/420-413/linq/index.html">LINQ</a></li>
            <li class="" data-nav-id="/420-413/pratique_exam1/index.html"><a class="padding" href="/420-413/pratique_exam1/index.html">Pratique - Exam 1</a></li>
            <li class="" data-nav-id="/420-413/wpf/index.html"><a class="padding" href="/420-413/wpf/index.html">WPF - intro</a></li>
            <li class="" data-nav-id="/420-413/patron_observateur/index.html"><a class="padding" href="/420-413/patron_observateur/index.html">Patron observateur</a></li>
            <li class="" data-nav-id="/420-413/patron_commande/index.html"><a class="padding" href="/420-413/patron_commande/index.html">Patron commande</a></li>
            <li class="" data-nav-id="/420-413/injection_dependance/index.html"><a class="padding" href="/420-413/injection_dependance/index.html">Injection de d√©pendance</a></li>
            <li class="" data-nav-id="/420-413/mvvm/index.html"><a class="padding" href="/420-413/mvvm/index.html">MVVM</a></li>
            <li class="" data-nav-id="/420-413/mini_projets/index.html"><a class="padding" href="/420-413/mini_projets/index.html">Mini-projets</a></li>
            <li class="active " data-nav-id="/420-413/rubrique/index.html"><a class="padding" href="/420-413/rubrique/index.html">Rubrique  - Semaine 2</a></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts default-animation">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin" class="default-animation"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding default-animation">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols default-animation">
          <ul class="">
            <li class="R-variantswitcher">
              <div class="padding menu-control">
                <i class="fa-fw fas fa-paint-brush"></i>
                <span>&nbsp;</span>
                <div class="control-style">
                  <label class="a11y-only" for="R-select-variant">Theme</label>
                  <select id="R-select-variant">
                    <option id="R-select-variant-learn" value="learn" selected>Learn</option>
                    <option id="R-select-variant-relearn-auto" value="relearn-auto">Relearn Light/Dark</option>
                    <option id="R-select-variant-zen-light" value="zen-light">Zen Light</option>
                    <option id="R-select-variant-zen-dark" value="zen-dark">Zen Dark</option>
                    <option id="R-select-variant-neon" value="neon">Neon</option>
                  </select>
                </div>
                <div class="clear"></div>
              </div>
              <script>window.relearn.markVariant();</script>
            </li>
          </ul>
        </div>
<div id="R-footer" class="default-animation"></div>
      </div>
    </aside>
    <script src="/420-413/js/perfect-scrollbar/perfect-scrollbar.min.js?1771852850" defer></script>
    <script src="/420-413/js/theme.js?1771852850" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
